2025-06-21 02:42:18,736 - semgrep.notifications - WARNING - METRICS: Using configs from the Registry (like --config=p/ci) reports pseudonymous rule metrics to semgrep.dev.
To disable Registry rule metrics, use "--metrics=off".
Using configs only from local files (like --config=xyz.yml) does not enable metrics.

More information: https://semgrep.dev/docs/metrics

2025-06-21 02:42:18,738 - semgrep.run_scan - DEBUG - semgrep version 1.4.0
2025-06-21 02:42:18,746 - semgrep.git - DEBUG - Failed to get project url from 'git ls-remote': Command failed with exit code: 128
-----
Command failed with output:
fatal: No remote configured to list refs from.


Failed to run 'git ls-remote --get-url'. Possible reasons:

- the git binary is not available
- the current working directory is not a git repository
- the baseline commit is not a parent of the current commit
    (if you are running through semgrep-app, check if you are setting `SEMGREP_BRANCH` or `SEMGREP_BASELINE_COMMIT` properly)
- the current working directory is not marked as safe
    (fix with `git config --global --add safe.directory $(pwd)`)

Try running the command yourself to debug the issue.
2025-06-21 02:42:18,747 - semgrep.config_resolver - DEBUG - Loading local config from /home/runner/workspace/.config/.semgrep/semgrep_rules.json
2025-06-21 02:42:18,749 - semgrep.config_resolver - DEBUG - Done loading local config from /home/runner/workspace/.config/.semgrep/semgrep_rules.json
2025-06-21 02:42:18,753 - semgrep.config_resolver - DEBUG - Saving rules to /tmp/semgrep-rxg_jzfw.rules
2025-06-21 02:42:19,552 - semgrep.rule_lang - DEBUG - semgrep-core validation response: valid=True
2025-06-21 02:42:19,553 - semgrep.rule_lang - DEBUG - semgrep-core validation succeeded
2025-06-21 02:42:19,553 - semgrep.rule_lang - DEBUG - RPC validation succeeded
2025-06-21 02:42:19,554 - semgrep.config_resolver - DEBUG - loaded 1 configs in 0.8073241710662842
2025-06-21 02:42:19,667 - semgrep.run_scan - VERBOSE - running 714 rules from 1 config /home/runner/workspace/.config/.semgrep/semgrep_rules.json_0
2025-06-21 02:42:19,668 - semgrep.run_scan - VERBOSE - No .semgrepignore found. Using default .semgrepignore rules. See the docs for the list of default ignores: https://semgrep.dev/docs/cli-usage/#ignore-files
2025-06-21 02:42:19,670 - semgrep.run_scan - VERBOSE - Rules:
2025-06-21 02:42:19,670 - semgrep.run_scan - VERBOSE - <SKIPPED DATA (too many entries; use --max-log-list-entries)>
2025-06-21 02:42:20,326 - semgrep.core_runner - DEBUG - Passing whole rules directly to semgrep_core
2025-06-21 02:42:20,556 - semgrep.core_runner - DEBUG - Running Semgrep engine with command:
2025-06-21 02:42:20,556 - semgrep.core_runner - DEBUG - /tmp/_MEIv3hFIy/semgrep/bin/opengrep-core -json -rules /tmp/tmpccrah3k2.json -j 8 -targets /tmp/tmphqe0ufa7 -timeout 5 -timeout_threshold 3 -max_memory 0 -fast
2025-06-21 02:42:26,814 - semgrep.core_runner - DEBUG - --- semgrep-core stderr ---
[00.10][[34mINFO[0m]: Executed as: /tmp/_MEIv3hFIy/semgrep/bin/opengrep-core -json -rules /tmp/tmpccrah3k2.json -j 8 -targets /tmp/tmphqe0ufa7 -timeout 5 -timeout_threshold 3 -max_memory 0 -fast
[00.10][[34mINFO[0m]: Version: 1.4.0
[00.10][[34mINFO[0m]: Parsing rules in /tmp/tmpccrah3k2.json
[00.63][[34mINFO[0m]: scan: processing 307 files (skipping 0), with 456 rules (skipping 0 )
[05.02][[33mWARNING[0m]: Fixpoint timeout while performing taint analysis [rule: config..semgrep.vendored-rules.javascript.express.security.injection.raw-html-format file: client/src/components/upload-screen.tsx func: ???]
[0m--- end semgrep-core stderr ---
2025-06-21 02:42:26,822 - semgrep.rule_match - DEBUG - match_key = ('', PosixPath('client/index.html'), 'config..semgrep.vendored-rules.html.security.audit.missing-integrity') match_id = 0ee74fd49637bebe183eca7188dbde26e386314e62cc2e7ba1ee60b377b638243fcd84e6c6fa04886198ccacfa6a711bfbcc61a28f9ddc913d5b3c53083cbc90_0
2025-06-21 02:42:26,823 - semgrep.rule_match - DEBUG - match_key = (' type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js" (?is).*integrity= (google-analytics\\.com|fonts\\.googleapis\\.com|fonts\\.gstatic\\.com|googletagmanager\\.com) .*rel\\s*=\\s*[\'"]?preconnect.* href="... :// ..." href="//..." href=\'... :// ...\' href=\'//...\' src="... :// ..." src="//..." src=\'... :// ...\' src=\'//...\' <link  type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js" > <script  type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js" >...</script>', PosixPath('client/index.html'), 'config..semgrep.vendored-rules.html.security.audit.missing-integrity') match_id = 0728b64e224596592d04447ba8a642ff94e1fb9fcc07be26d49dc7e7f6898e638ad16ffcaca086932c58f4c6400fe32603323afef02cf9bfebcb0e4a53562a40_0
2025-06-21 02:42:26,824 - semgrep.rule_match - DEBUG - match_key = (' type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js" (?is).*integrity= (google-analytics\\.com|fonts\\.googleapis\\.com|fonts\\.gstatic\\.com|googletagmanager\\.com) .*rel\\s*=\\s*[\'"]?preconnect.* href="... :// ..." href="//..." href=\'... :// ...\' href=\'//...\' src="... :// ..." src="//..." src=\'... :// ...\' src=\'//...\' <link  type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js" > <script  type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js" >...</script>', PosixPath('client/index.html'), 'config..semgrep.vendored-rules.html.security.audit.missing-integrity') match_id = 0728b64e224596592d04447ba8a642ff94e1fb9fcc07be26d49dc7e7f6898e638ad16ffcaca086932c58f4c6400fe32603323afef02cf9bfebcb0e4a53562a40_0
2025-06-21 02:42:26,824 - semgrep.rule_match - DEBUG - match_key = (' type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js" (?is).*integrity= (google-analytics\\.com|fonts\\.googleapis\\.com|fonts\\.gstatic\\.com|googletagmanager\\.com) .*rel\\s*=\\s*[\'"]?preconnect.* href="... :// ..." href="//..." href=\'... :// ...\' href=\'//...\' src="... :// ..." src="//..." src=\'... :// ...\' src=\'//...\' <link  type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js" > <script  type="text/javascript" src="https://replit.com/public/js/replit-dev-banner.js" >...</script>', PosixPath('client/index.html'), 'config..semgrep.vendored-rules.html.security.audit.missing-integrity') match_id = 0728b64e224596592d04447ba8a642ff94e1fb9fcc07be26d49dc7e7f6898e638ad16ffcaca086932c58f4c6400fe32603323afef02cf9bfebcb0e4a53562a40_0
2025-06-21 02:42:26,825 - semgrep.rule_match - DEBUG - match_key = ('', PosixPath('debug-new-excel.js'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.unsafe-formatstring') match_id = dccc8c138a6d1a0e1af7f89b55fa623d39f2e62823d5855f4239c0d5aa81f0c874d079c9b5bbe7b03b5c18738858525949875ff99701997f1314bfe29ebfd023_0
2025-06-21 02:42:26,825 - semgrep.rule_match - DEBUG - match_key = ('"..." + "..."\n $X + $Y $X.concat($Y) `...${...}...`\n $X.concat("...")\n ``Linha i:` $UTIL = require(\'util\')\n...\n $UTIL.format(``Linha i:`,data[i],...)\n console.log(``Linha i:`,data[i],...)\n', PosixPath('debug-new-excel.js'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.unsafe-formatstring') match_id = 9a32846dfc6732b5ee59ceadc7c53f144a20e35a9e31c98b9b1c15d2032758ebef4a8d27f6e4b73891a0fa435a2e2d105d42c47b0c813434dffc874d6613e8d8_0
2025-06-21 02:42:26,826 - semgrep.rule_match - DEBUG - match_key = ('"..." + "..."\n $X + $Y $X.concat($Y) `...${...}...`\n $X.concat("...")\n ``Linha i:` $UTIL = require(\'util\')\n...\n $UTIL.format(``Linha i:`,data[i],...)\n console.log(``Linha i:`,data[i],...)\n', PosixPath('debug-new-excel.js'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.unsafe-formatstring') match_id = 9a32846dfc6732b5ee59ceadc7c53f144a20e35a9e31c98b9b1c15d2032758ebef4a8d27f6e4b73891a0fa435a2e2d105d42c47b0c813434dffc874d6613e8d8_0
2025-06-21 02:42:26,826 - semgrep.rule_match - DEBUG - match_key = ('"..." + "..."\n $X + $Y $X.concat($Y) `...${...}...`\n $X.concat("...")\n ``Linha i:` $UTIL = require(\'util\')\n...\n $UTIL.format(``Linha i:`,data[i],...)\n console.log(``Linha i:`,data[i],...)\n', PosixPath('debug-new-excel.js'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.unsafe-formatstring') match_id = 9a32846dfc6732b5ee59ceadc7c53f144a20e35a9e31c98b9b1c15d2032758ebef4a8d27f6e4b73891a0fa435a2e2d105d42c47b0c813434dffc874d6613e8d8_0
2025-06-21 02:42:26,827 - semgrep.rule_match - DEBUG - match_key = ('', PosixPath('server/routes.ts'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.detect-non-literal-fs-filename') match_id = b1ea9a27b46842f411c4380eb4f89ac483c4f202f343f5db5c0e7c78d62c4490f6cb72d16f68deccfbafaf7cfc341e5945186fdea2bdc32ddee6565fc4ab7d8a_0
2025-06-21 02:42:26,828 - semgrep.rule_match - DEBUG - match_key = ('req function ... (..., req,...) {...} filePath fs = require(\'fs\')\n...\n fs = require(\'fs/promises\')\n...\n import fs from \'fs\'\n...\n import fs from \'fs/promises\'\n...\n import * as fs from \'fs\'\n...\n import * as fs from \'fs/promises\'\n...\n fs. ... .$METHOD("...", ...) fs. ... .access(filePath,...) fs. ... .accessSync(filePath, ...) fs. ... .appendFile(filePath,...) fs. ... .appendFileSync(filePath, ...) fs. ... .chmod(filePath,...) fs. ... .chmodSync(filePath, ...) fs. ... .chown(filePath,...) fs. ... .chownSync(filePath, ...) fs. ... .close(filePath,...) fs. ... .closeSync(filePath, ...) fs. ... .copyFile(filePath,...) fs. ... .copyFile($SMTH, filePath,...) fs. ... .copyFileSync(filePath, ...) fs. ... .copyFileSync($SMTH, filePath, ...) fs. ... .cp(filePath, ...) fs. ... .cp($SMTH, filePath, ...) fs. ... .cpSync(filePath, ...) fs. ... .cpSync($SMTH, filePath, ...) fs. ... .createReadStream(filePath,...) fs. ... .createWriteStream(filePath,...) fs. ... .exists(filePath, ...) fs. ... .existsSync(filePath, ...) fs. ... .fchmod(filePath, ...) fs. ... .fchmodSync(filePath, ...) fs. ... .fchown(filePath, ...) fs. ... .fchownSync(filePath, ...) fs. ... .fdatasync(filePath, ...) fs. ... .fdatasyncSync(filePath, ...) fs. ... .fstat(filePath, ...) fs. ... .fstatSync(filePath, ...) fs. ... .fsync(filePath, ...) fs. ... .fsyncSync(filePath, ...) fs. ... .ftruncate(filePath, ...) fs. ... .ftruncateSync(filePath, ...) fs. ... .futimes(filePath, ...) fs. ... .futimesSync(filePath, ...) fs. ... .lchmod(filePath, ...) fs. ... .lchmodSync(filePath, ...) fs. ... .lchown(filePath, ...) fs. ... .lchownSync(filePath, ...) fs. ... .link(filePath, ...) fs. ... .link($SMTH, filePath, ...) fs. ... .linkSync(filePath, ...) fs. ... .linkSync($SMTH, filePath, ...) fs. ... .lstat(filePath, ...) fs. ... .lstatSync(filePath, ...) fs. ... .lutimes(filePath, ...) fs. ... .lutimesSync(filePath, ...) fs. ... .mkdir(filePath, ...) fs. ... .mkdirSync(filePath, ...) fs. ... .mkdtemp(filePath, ...) fs. ... .mkdtempSync(filePath, ...) fs. ... .open(filePath, ...) fs. ... .openSync(filePath, ...) fs. ... .opendir(filePath, ...) fs. ... .opendirSync(filePath, ...) fs. ... .read(filePath, ...) fs. ... .read(filePath, ...) fs. ... .readFile(filePath, ...) fs. ... .readFileSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readdir(filePath, ...) fs. ... .readdirSync(filePath, ...) fs. ... .readlink(filePath, ...) fs. ... .readlinkSync(filePath, ...) fs. ... .readv(filePath, ...) fs. ... .readvSync(filePath, ...) fs. ... .realpath(filePath, ...) fs. ... .realpath.native(filePath, ...) fs. ... .realpathSync.native(filePath, ...) fs. ... .realpathync(filePath, ...) fs. ... .rename(filePath, ...) fs. ... .rename($SMTH, filePath, ...) fs. ... .renameSync(filePath, ...) fs. ... .renameSync($SMTH, filePath, ...) fs. ... .rm(filePath, ...) fs. ... .rmSync(filePath, ...) fs. ... .rmdir(filePath, ...) fs. ... .rmdirSync(filePath, ...) fs. ... .stat(filePath, ...) fs. ... .statSync(filePath, ...) fs. ... .symlink(filePath, ...) fs. ... .symlink($SMTH, filePath, ...) fs. ... .symlinkSync(filePath, ...) fs. ... .symlinkSync($SMTH, filePath, ...) fs. ... .truncate(filePath, ...) fs. ... .truncateSync(filePath, ...) fs. ... .unlink(filePath, ...) fs. ... .unlinkSync(filePath, ...) fs. ... .unwatchFile(filePath, ...) fs. ... .utimes(filePath, ...) fs. ... .utimesSync(filePath, ...) fs. ... .watch(filePath, ...) fs. ... .watchFile(filePath, ...) fs. ... .write(filePath, ...) fs. ... .writeFile(filePath, ...) fs. ... .writeFileSync(filePath, ...) fs. ... .writeSync(filePath, ...) fs. ... .writev(filePath, ...) fs. ... .writevSync(filePath, ...) filePath $METHOD("...", ...) access(filePath,...) accessSync(filePath, ...) appendFile(filePath,...) appendFileSync(filePath, ...) chmod(filePath,...) chmodSync(filePath, ...) chown(filePath,...) chownSync(filePath, ...) close(filePath,...) closeSync(filePath, ...) copyFile(filePath,...) copyFile($SMTH, filePath,...) copyFileSync(filePath, ...) copyFileSync($SMTH, filePath, ...) cp(filePath, ...) cp($SMTH, filePath, ...) cpSync(filePath, ...) cpSync($SMTH, filePath, ...) createReadStream(filePath,...) createWriteStream(filePath,...) exists(filePath, ...) existsSync(filePath, ...) fchmod(filePath, ...) fchmodSync(filePath, ...) fchown(filePath, ...) fchownSync(filePath, ...) fdatasync(filePath, ...) fdatasyncSync(filePath, ...) fstat(filePath, ...) fstatSync(filePath, ...) fsync(filePath, ...) fsyncSync(filePath, ...) ftruncate(filePath, ...) ftruncateSync(filePath, ...) futimes(filePath, ...) futimesSync(filePath, ...) lchmod(filePath, ...) lchmodSync(filePath, ...) lchown(filePath, ...) lchownSync(filePath, ...) link(filePath, ...) link($SMTH, filePath, ...) linkSync(filePath, ...) linkSync($SMTH, filePath, ...) lstat(filePath, ...) lstatSync(filePath, ...) lutimes(filePath, ...) lutimesSync(filePath, ...) mkdir(filePath, ...) mkdirSync(filePath, ...) mkdtemp(filePath, ...) mkdtempSync(filePath, ...) open(filePath, ...) openSync(filePath, ...) opendir(filePath, ...) opendirSync(filePath, ...) read(filePath, ...) read(filePath, ...) readFile(filePath, ...) readFileSync(filePath, ...) readSync(filePath, ...) readSync(filePath, ...) readdir(filePath, ...) readdirSync(filePath, ...) readlink(filePath, ...) readlinkSync(filePath, ...) readv(filePath, ...) readvSync(filePath, ...) realpath(filePath, ...) realpath.native(filePath, ...) realpathSync.native(filePath, ...) realpathync(filePath, ...) rename(filePath, ...) rename($SMTH, filePath, ...) renameSync(filePath, ...) renameSync($SMTH, filePath, ...) rm(filePath, ...) rmSync(filePath, ...) rmdir(filePath, ...) rmdirSync(filePath, ...) stat(filePath, ...) statSync(filePath, ...) symlink(filePath, ...) symlink($SMTH, filePath, ...) symlinkSync(filePath, ...) symlinkSync($SMTH, filePath, ...) truncate(filePath, ...) truncateSync(filePath, ...) unlink(filePath, ...) unlinkSync(filePath, ...) unwatchFile(filePath, ...) utimes(filePath, ...) utimesSync(filePath, ...) watch(filePath, ...) watchFile(filePath, ...) write(filePath, ...) writeFile(filePath, ...) writeFileSync(filePath, ...) writeSync(filePath, ...) writev(filePath, ...) writevSync(filePath, ...) import \'fs\'\n...\n import \'fs/promises\'\n...\n', PosixPath('server/routes.ts'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.detect-non-literal-fs-filename') match_id = 1c50179e6094c3c4a1bd6efd93165e8268cf53ab9c5cd0747d390767e11097307f33bc45d8157cd07ad075b152d4065e9135efe900f44a326d2763256eba8d97_0
2025-06-21 02:42:26,828 - semgrep.rule_match - DEBUG - match_key = ('req function ... (..., req,...) {...} filePath fs = require(\'fs\')\n...\n fs = require(\'fs/promises\')\n...\n import fs from \'fs\'\n...\n import fs from \'fs/promises\'\n...\n import * as fs from \'fs\'\n...\n import * as fs from \'fs/promises\'\n...\n fs. ... .$METHOD("...", ...) fs. ... .access(filePath,...) fs. ... .accessSync(filePath, ...) fs. ... .appendFile(filePath,...) fs. ... .appendFileSync(filePath, ...) fs. ... .chmod(filePath,...) fs. ... .chmodSync(filePath, ...) fs. ... .chown(filePath,...) fs. ... .chownSync(filePath, ...) fs. ... .close(filePath,...) fs. ... .closeSync(filePath, ...) fs. ... .copyFile(filePath,...) fs. ... .copyFile($SMTH, filePath,...) fs. ... .copyFileSync(filePath, ...) fs. ... .copyFileSync($SMTH, filePath, ...) fs. ... .cp(filePath, ...) fs. ... .cp($SMTH, filePath, ...) fs. ... .cpSync(filePath, ...) fs. ... .cpSync($SMTH, filePath, ...) fs. ... .createReadStream(filePath,...) fs. ... .createWriteStream(filePath,...) fs. ... .exists(filePath, ...) fs. ... .existsSync(filePath, ...) fs. ... .fchmod(filePath, ...) fs. ... .fchmodSync(filePath, ...) fs. ... .fchown(filePath, ...) fs. ... .fchownSync(filePath, ...) fs. ... .fdatasync(filePath, ...) fs. ... .fdatasyncSync(filePath, ...) fs. ... .fstat(filePath, ...) fs. ... .fstatSync(filePath, ...) fs. ... .fsync(filePath, ...) fs. ... .fsyncSync(filePath, ...) fs. ... .ftruncate(filePath, ...) fs. ... .ftruncateSync(filePath, ...) fs. ... .futimes(filePath, ...) fs. ... .futimesSync(filePath, ...) fs. ... .lchmod(filePath, ...) fs. ... .lchmodSync(filePath, ...) fs. ... .lchown(filePath, ...) fs. ... .lchownSync(filePath, ...) fs. ... .link(filePath, ...) fs. ... .link($SMTH, filePath, ...) fs. ... .linkSync(filePath, ...) fs. ... .linkSync($SMTH, filePath, ...) fs. ... .lstat(filePath, ...) fs. ... .lstatSync(filePath, ...) fs. ... .lutimes(filePath, ...) fs. ... .lutimesSync(filePath, ...) fs. ... .mkdir(filePath, ...) fs. ... .mkdirSync(filePath, ...) fs. ... .mkdtemp(filePath, ...) fs. ... .mkdtempSync(filePath, ...) fs. ... .open(filePath, ...) fs. ... .openSync(filePath, ...) fs. ... .opendir(filePath, ...) fs. ... .opendirSync(filePath, ...) fs. ... .read(filePath, ...) fs. ... .read(filePath, ...) fs. ... .readFile(filePath, ...) fs. ... .readFileSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readdir(filePath, ...) fs. ... .readdirSync(filePath, ...) fs. ... .readlink(filePath, ...) fs. ... .readlinkSync(filePath, ...) fs. ... .readv(filePath, ...) fs. ... .readvSync(filePath, ...) fs. ... .realpath(filePath, ...) fs. ... .realpath.native(filePath, ...) fs. ... .realpathSync.native(filePath, ...) fs. ... .realpathync(filePath, ...) fs. ... .rename(filePath, ...) fs. ... .rename($SMTH, filePath, ...) fs. ... .renameSync(filePath, ...) fs. ... .renameSync($SMTH, filePath, ...) fs. ... .rm(filePath, ...) fs. ... .rmSync(filePath, ...) fs. ... .rmdir(filePath, ...) fs. ... .rmdirSync(filePath, ...) fs. ... .stat(filePath, ...) fs. ... .statSync(filePath, ...) fs. ... .symlink(filePath, ...) fs. ... .symlink($SMTH, filePath, ...) fs. ... .symlinkSync(filePath, ...) fs. ... .symlinkSync($SMTH, filePath, ...) fs. ... .truncate(filePath, ...) fs. ... .truncateSync(filePath, ...) fs. ... .unlink(filePath, ...) fs. ... .unlinkSync(filePath, ...) fs. ... .unwatchFile(filePath, ...) fs. ... .utimes(filePath, ...) fs. ... .utimesSync(filePath, ...) fs. ... .watch(filePath, ...) fs. ... .watchFile(filePath, ...) fs. ... .write(filePath, ...) fs. ... .writeFile(filePath, ...) fs. ... .writeFileSync(filePath, ...) fs. ... .writeSync(filePath, ...) fs. ... .writev(filePath, ...) fs. ... .writevSync(filePath, ...) filePath $METHOD("...", ...) access(filePath,...) accessSync(filePath, ...) appendFile(filePath,...) appendFileSync(filePath, ...) chmod(filePath,...) chmodSync(filePath, ...) chown(filePath,...) chownSync(filePath, ...) close(filePath,...) closeSync(filePath, ...) copyFile(filePath,...) copyFile($SMTH, filePath,...) copyFileSync(filePath, ...) copyFileSync($SMTH, filePath, ...) cp(filePath, ...) cp($SMTH, filePath, ...) cpSync(filePath, ...) cpSync($SMTH, filePath, ...) createReadStream(filePath,...) createWriteStream(filePath,...) exists(filePath, ...) existsSync(filePath, ...) fchmod(filePath, ...) fchmodSync(filePath, ...) fchown(filePath, ...) fchownSync(filePath, ...) fdatasync(filePath, ...) fdatasyncSync(filePath, ...) fstat(filePath, ...) fstatSync(filePath, ...) fsync(filePath, ...) fsyncSync(filePath, ...) ftruncate(filePath, ...) ftruncateSync(filePath, ...) futimes(filePath, ...) futimesSync(filePath, ...) lchmod(filePath, ...) lchmodSync(filePath, ...) lchown(filePath, ...) lchownSync(filePath, ...) link(filePath, ...) link($SMTH, filePath, ...) linkSync(filePath, ...) linkSync($SMTH, filePath, ...) lstat(filePath, ...) lstatSync(filePath, ...) lutimes(filePath, ...) lutimesSync(filePath, ...) mkdir(filePath, ...) mkdirSync(filePath, ...) mkdtemp(filePath, ...) mkdtempSync(filePath, ...) open(filePath, ...) openSync(filePath, ...) opendir(filePath, ...) opendirSync(filePath, ...) read(filePath, ...) read(filePath, ...) readFile(filePath, ...) readFileSync(filePath, ...) readSync(filePath, ...) readSync(filePath, ...) readdir(filePath, ...) readdirSync(filePath, ...) readlink(filePath, ...) readlinkSync(filePath, ...) readv(filePath, ...) readvSync(filePath, ...) realpath(filePath, ...) realpath.native(filePath, ...) realpathSync.native(filePath, ...) realpathync(filePath, ...) rename(filePath, ...) rename($SMTH, filePath, ...) renameSync(filePath, ...) renameSync($SMTH, filePath, ...) rm(filePath, ...) rmSync(filePath, ...) rmdir(filePath, ...) rmdirSync(filePath, ...) stat(filePath, ...) statSync(filePath, ...) symlink(filePath, ...) symlink($SMTH, filePath, ...) symlinkSync(filePath, ...) symlinkSync($SMTH, filePath, ...) truncate(filePath, ...) truncateSync(filePath, ...) unlink(filePath, ...) unlinkSync(filePath, ...) unwatchFile(filePath, ...) utimes(filePath, ...) utimesSync(filePath, ...) watch(filePath, ...) watchFile(filePath, ...) write(filePath, ...) writeFile(filePath, ...) writeFileSync(filePath, ...) writeSync(filePath, ...) writev(filePath, ...) writevSync(filePath, ...) import \'fs\'\n...\n import \'fs/promises\'\n...\n', PosixPath('server/routes.ts'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.detect-non-literal-fs-filename') match_id = 1c50179e6094c3c4a1bd6efd93165e8268cf53ab9c5cd0747d390767e11097307f33bc45d8157cd07ad075b152d4065e9135efe900f44a326d2763256eba8d97_0
2025-06-21 02:42:26,829 - semgrep.rule_match - DEBUG - match_key = ('req function ... (..., req,...) {...} filePath fs = require(\'fs\')\n...\n fs = require(\'fs/promises\')\n...\n import fs from \'fs\'\n...\n import fs from \'fs/promises\'\n...\n import * as fs from \'fs\'\n...\n import * as fs from \'fs/promises\'\n...\n fs. ... .$METHOD("...", ...) fs. ... .access(filePath,...) fs. ... .accessSync(filePath, ...) fs. ... .appendFile(filePath,...) fs. ... .appendFileSync(filePath, ...) fs. ... .chmod(filePath,...) fs. ... .chmodSync(filePath, ...) fs. ... .chown(filePath,...) fs. ... .chownSync(filePath, ...) fs. ... .close(filePath,...) fs. ... .closeSync(filePath, ...) fs. ... .copyFile(filePath,...) fs. ... .copyFile($SMTH, filePath,...) fs. ... .copyFileSync(filePath, ...) fs. ... .copyFileSync($SMTH, filePath, ...) fs. ... .cp(filePath, ...) fs. ... .cp($SMTH, filePath, ...) fs. ... .cpSync(filePath, ...) fs. ... .cpSync($SMTH, filePath, ...) fs. ... .createReadStream(filePath,...) fs. ... .createWriteStream(filePath,...) fs. ... .exists(filePath, ...) fs. ... .existsSync(filePath, ...) fs. ... .fchmod(filePath, ...) fs. ... .fchmodSync(filePath, ...) fs. ... .fchown(filePath, ...) fs. ... .fchownSync(filePath, ...) fs. ... .fdatasync(filePath, ...) fs. ... .fdatasyncSync(filePath, ...) fs. ... .fstat(filePath, ...) fs. ... .fstatSync(filePath, ...) fs. ... .fsync(filePath, ...) fs. ... .fsyncSync(filePath, ...) fs. ... .ftruncate(filePath, ...) fs. ... .ftruncateSync(filePath, ...) fs. ... .futimes(filePath, ...) fs. ... .futimesSync(filePath, ...) fs. ... .lchmod(filePath, ...) fs. ... .lchmodSync(filePath, ...) fs. ... .lchown(filePath, ...) fs. ... .lchownSync(filePath, ...) fs. ... .link(filePath, ...) fs. ... .link($SMTH, filePath, ...) fs. ... .linkSync(filePath, ...) fs. ... .linkSync($SMTH, filePath, ...) fs. ... .lstat(filePath, ...) fs. ... .lstatSync(filePath, ...) fs. ... .lutimes(filePath, ...) fs. ... .lutimesSync(filePath, ...) fs. ... .mkdir(filePath, ...) fs. ... .mkdirSync(filePath, ...) fs. ... .mkdtemp(filePath, ...) fs. ... .mkdtempSync(filePath, ...) fs. ... .open(filePath, ...) fs. ... .openSync(filePath, ...) fs. ... .opendir(filePath, ...) fs. ... .opendirSync(filePath, ...) fs. ... .read(filePath, ...) fs. ... .read(filePath, ...) fs. ... .readFile(filePath, ...) fs. ... .readFileSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readdir(filePath, ...) fs. ... .readdirSync(filePath, ...) fs. ... .readlink(filePath, ...) fs. ... .readlinkSync(filePath, ...) fs. ... .readv(filePath, ...) fs. ... .readvSync(filePath, ...) fs. ... .realpath(filePath, ...) fs. ... .realpath.native(filePath, ...) fs. ... .realpathSync.native(filePath, ...) fs. ... .realpathync(filePath, ...) fs. ... .rename(filePath, ...) fs. ... .rename($SMTH, filePath, ...) fs. ... .renameSync(filePath, ...) fs. ... .renameSync($SMTH, filePath, ...) fs. ... .rm(filePath, ...) fs. ... .rmSync(filePath, ...) fs. ... .rmdir(filePath, ...) fs. ... .rmdirSync(filePath, ...) fs. ... .stat(filePath, ...) fs. ... .statSync(filePath, ...) fs. ... .symlink(filePath, ...) fs. ... .symlink($SMTH, filePath, ...) fs. ... .symlinkSync(filePath, ...) fs. ... .symlinkSync($SMTH, filePath, ...) fs. ... .truncate(filePath, ...) fs. ... .truncateSync(filePath, ...) fs. ... .unlink(filePath, ...) fs. ... .unlinkSync(filePath, ...) fs. ... .unwatchFile(filePath, ...) fs. ... .utimes(filePath, ...) fs. ... .utimesSync(filePath, ...) fs. ... .watch(filePath, ...) fs. ... .watchFile(filePath, ...) fs. ... .write(filePath, ...) fs. ... .writeFile(filePath, ...) fs. ... .writeFileSync(filePath, ...) fs. ... .writeSync(filePath, ...) fs. ... .writev(filePath, ...) fs. ... .writevSync(filePath, ...) filePath $METHOD("...", ...) access(filePath,...) accessSync(filePath, ...) appendFile(filePath,...) appendFileSync(filePath, ...) chmod(filePath,...) chmodSync(filePath, ...) chown(filePath,...) chownSync(filePath, ...) close(filePath,...) closeSync(filePath, ...) copyFile(filePath,...) copyFile($SMTH, filePath,...) copyFileSync(filePath, ...) copyFileSync($SMTH, filePath, ...) cp(filePath, ...) cp($SMTH, filePath, ...) cpSync(filePath, ...) cpSync($SMTH, filePath, ...) createReadStream(filePath,...) createWriteStream(filePath,...) exists(filePath, ...) existsSync(filePath, ...) fchmod(filePath, ...) fchmodSync(filePath, ...) fchown(filePath, ...) fchownSync(filePath, ...) fdatasync(filePath, ...) fdatasyncSync(filePath, ...) fstat(filePath, ...) fstatSync(filePath, ...) fsync(filePath, ...) fsyncSync(filePath, ...) ftruncate(filePath, ...) ftruncateSync(filePath, ...) futimes(filePath, ...) futimesSync(filePath, ...) lchmod(filePath, ...) lchmodSync(filePath, ...) lchown(filePath, ...) lchownSync(filePath, ...) link(filePath, ...) link($SMTH, filePath, ...) linkSync(filePath, ...) linkSync($SMTH, filePath, ...) lstat(filePath, ...) lstatSync(filePath, ...) lutimes(filePath, ...) lutimesSync(filePath, ...) mkdir(filePath, ...) mkdirSync(filePath, ...) mkdtemp(filePath, ...) mkdtempSync(filePath, ...) open(filePath, ...) openSync(filePath, ...) opendir(filePath, ...) opendirSync(filePath, ...) read(filePath, ...) read(filePath, ...) readFile(filePath, ...) readFileSync(filePath, ...) readSync(filePath, ...) readSync(filePath, ...) readdir(filePath, ...) readdirSync(filePath, ...) readlink(filePath, ...) readlinkSync(filePath, ...) readv(filePath, ...) readvSync(filePath, ...) realpath(filePath, ...) realpath.native(filePath, ...) realpathSync.native(filePath, ...) realpathync(filePath, ...) rename(filePath, ...) rename($SMTH, filePath, ...) renameSync(filePath, ...) renameSync($SMTH, filePath, ...) rm(filePath, ...) rmSync(filePath, ...) rmdir(filePath, ...) rmdirSync(filePath, ...) stat(filePath, ...) statSync(filePath, ...) symlink(filePath, ...) symlink($SMTH, filePath, ...) symlinkSync(filePath, ...) symlinkSync($SMTH, filePath, ...) truncate(filePath, ...) truncateSync(filePath, ...) unlink(filePath, ...) unlinkSync(filePath, ...) unwatchFile(filePath, ...) utimes(filePath, ...) utimesSync(filePath, ...) watch(filePath, ...) watchFile(filePath, ...) write(filePath, ...) writeFile(filePath, ...) writeFileSync(filePath, ...) writeSync(filePath, ...) writev(filePath, ...) writevSync(filePath, ...) import \'fs\'\n...\n import \'fs/promises\'\n...\n', PosixPath('server/routes.ts'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.detect-non-literal-fs-filename') match_id = 1c50179e6094c3c4a1bd6efd93165e8268cf53ab9c5cd0747d390767e11097307f33bc45d8157cd07ad075b152d4065e9135efe900f44a326d2763256eba8d97_0
2025-06-21 02:42:26,829 - semgrep.rule_match - DEBUG - match_key = ('', PosixPath('server/routes.ts'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.detect-non-literal-fs-filename') match_id = b1ea9a27b46842f411c4380eb4f89ac483c4f202f343f5db5c0e7c78d62c4490f6cb72d16f68deccfbafaf7cfc341e5945186fdea2bdc32ddee6565fc4ab7d8a_0
2025-06-21 02:42:26,830 - semgrep.rule_match - DEBUG - match_key = ('req function ... (..., req,...) {...} filePath fs = require(\'fs\')\n...\n fs = require(\'fs/promises\')\n...\n import fs from \'fs\'\n...\n import fs from \'fs/promises\'\n...\n import * as fs from \'fs\'\n...\n import * as fs from \'fs/promises\'\n...\n fs. ... .$METHOD("...", ...) fs. ... .access(filePath,...) fs. ... .accessSync(filePath, ...) fs. ... .appendFile(filePath,...) fs. ... .appendFileSync(filePath, ...) fs. ... .chmod(filePath,...) fs. ... .chmodSync(filePath, ...) fs. ... .chown(filePath,...) fs. ... .chownSync(filePath, ...) fs. ... .close(filePath,...) fs. ... .closeSync(filePath, ...) fs. ... .copyFile(filePath,...) fs. ... .copyFile($SMTH, filePath,...) fs. ... .copyFileSync(filePath, ...) fs. ... .copyFileSync($SMTH, filePath, ...) fs. ... .cp(filePath, ...) fs. ... .cp($SMTH, filePath, ...) fs. ... .cpSync(filePath, ...) fs. ... .cpSync($SMTH, filePath, ...) fs. ... .createReadStream(filePath,...) fs. ... .createWriteStream(filePath,...) fs. ... .exists(filePath, ...) fs. ... .existsSync(filePath, ...) fs. ... .fchmod(filePath, ...) fs. ... .fchmodSync(filePath, ...) fs. ... .fchown(filePath, ...) fs. ... .fchownSync(filePath, ...) fs. ... .fdatasync(filePath, ...) fs. ... .fdatasyncSync(filePath, ...) fs. ... .fstat(filePath, ...) fs. ... .fstatSync(filePath, ...) fs. ... .fsync(filePath, ...) fs. ... .fsyncSync(filePath, ...) fs. ... .ftruncate(filePath, ...) fs. ... .ftruncateSync(filePath, ...) fs. ... .futimes(filePath, ...) fs. ... .futimesSync(filePath, ...) fs. ... .lchmod(filePath, ...) fs. ... .lchmodSync(filePath, ...) fs. ... .lchown(filePath, ...) fs. ... .lchownSync(filePath, ...) fs. ... .link(filePath, ...) fs. ... .link($SMTH, filePath, ...) fs. ... .linkSync(filePath, ...) fs. ... .linkSync($SMTH, filePath, ...) fs. ... .lstat(filePath, ...) fs. ... .lstatSync(filePath, ...) fs. ... .lutimes(filePath, ...) fs. ... .lutimesSync(filePath, ...) fs. ... .mkdir(filePath, ...) fs. ... .mkdirSync(filePath, ...) fs. ... .mkdtemp(filePath, ...) fs. ... .mkdtempSync(filePath, ...) fs. ... .open(filePath, ...) fs. ... .openSync(filePath, ...) fs. ... .opendir(filePath, ...) fs. ... .opendirSync(filePath, ...) fs. ... .read(filePath, ...) fs. ... .read(filePath, ...) fs. ... .readFile(filePath, ...) fs. ... .readFileSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readdir(filePath, ...) fs. ... .readdirSync(filePath, ...) fs. ... .readlink(filePath, ...) fs. ... .readlinkSync(filePath, ...) fs. ... .readv(filePath, ...) fs. ... .readvSync(filePath, ...) fs. ... .realpath(filePath, ...) fs. ... .realpath.native(filePath, ...) fs. ... .realpathSync.native(filePath, ...) fs. ... .realpathync(filePath, ...) fs. ... .rename(filePath, ...) fs. ... .rename($SMTH, filePath, ...) fs. ... .renameSync(filePath, ...) fs. ... .renameSync($SMTH, filePath, ...) fs. ... .rm(filePath, ...) fs. ... .rmSync(filePath, ...) fs. ... .rmdir(filePath, ...) fs. ... .rmdirSync(filePath, ...) fs. ... .stat(filePath, ...) fs. ... .statSync(filePath, ...) fs. ... .symlink(filePath, ...) fs. ... .symlink($SMTH, filePath, ...) fs. ... .symlinkSync(filePath, ...) fs. ... .symlinkSync($SMTH, filePath, ...) fs. ... .truncate(filePath, ...) fs. ... .truncateSync(filePath, ...) fs. ... .unlink(filePath, ...) fs. ... .unlinkSync(filePath, ...) fs. ... .unwatchFile(filePath, ...) fs. ... .utimes(filePath, ...) fs. ... .utimesSync(filePath, ...) fs. ... .watch(filePath, ...) fs. ... .watchFile(filePath, ...) fs. ... .write(filePath, ...) fs. ... .writeFile(filePath, ...) fs. ... .writeFileSync(filePath, ...) fs. ... .writeSync(filePath, ...) fs. ... .writev(filePath, ...) fs. ... .writevSync(filePath, ...) filePath $METHOD("...", ...) access(filePath,...) accessSync(filePath, ...) appendFile(filePath,...) appendFileSync(filePath, ...) chmod(filePath,...) chmodSync(filePath, ...) chown(filePath,...) chownSync(filePath, ...) close(filePath,...) closeSync(filePath, ...) copyFile(filePath,...) copyFile($SMTH, filePath,...) copyFileSync(filePath, ...) copyFileSync($SMTH, filePath, ...) cp(filePath, ...) cp($SMTH, filePath, ...) cpSync(filePath, ...) cpSync($SMTH, filePath, ...) createReadStream(filePath,...) createWriteStream(filePath,...) exists(filePath, ...) existsSync(filePath, ...) fchmod(filePath, ...) fchmodSync(filePath, ...) fchown(filePath, ...) fchownSync(filePath, ...) fdatasync(filePath, ...) fdatasyncSync(filePath, ...) fstat(filePath, ...) fstatSync(filePath, ...) fsync(filePath, ...) fsyncSync(filePath, ...) ftruncate(filePath, ...) ftruncateSync(filePath, ...) futimes(filePath, ...) futimesSync(filePath, ...) lchmod(filePath, ...) lchmodSync(filePath, ...) lchown(filePath, ...) lchownSync(filePath, ...) link(filePath, ...) link($SMTH, filePath, ...) linkSync(filePath, ...) linkSync($SMTH, filePath, ...) lstat(filePath, ...) lstatSync(filePath, ...) lutimes(filePath, ...) lutimesSync(filePath, ...) mkdir(filePath, ...) mkdirSync(filePath, ...) mkdtemp(filePath, ...) mkdtempSync(filePath, ...) open(filePath, ...) openSync(filePath, ...) opendir(filePath, ...) opendirSync(filePath, ...) read(filePath, ...) read(filePath, ...) readFile(filePath, ...) readFileSync(filePath, ...) readSync(filePath, ...) readSync(filePath, ...) readdir(filePath, ...) readdirSync(filePath, ...) readlink(filePath, ...) readlinkSync(filePath, ...) readv(filePath, ...) readvSync(filePath, ...) realpath(filePath, ...) realpath.native(filePath, ...) realpathSync.native(filePath, ...) realpathync(filePath, ...) rename(filePath, ...) rename($SMTH, filePath, ...) renameSync(filePath, ...) renameSync($SMTH, filePath, ...) rm(filePath, ...) rmSync(filePath, ...) rmdir(filePath, ...) rmdirSync(filePath, ...) stat(filePath, ...) statSync(filePath, ...) symlink(filePath, ...) symlink($SMTH, filePath, ...) symlinkSync(filePath, ...) symlinkSync($SMTH, filePath, ...) truncate(filePath, ...) truncateSync(filePath, ...) unlink(filePath, ...) unlinkSync(filePath, ...) unwatchFile(filePath, ...) utimes(filePath, ...) utimesSync(filePath, ...) watch(filePath, ...) watchFile(filePath, ...) write(filePath, ...) writeFile(filePath, ...) writeFileSync(filePath, ...) writeSync(filePath, ...) writev(filePath, ...) writevSync(filePath, ...) import \'fs\'\n...\n import \'fs/promises\'\n...\n', PosixPath('server/routes.ts'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.detect-non-literal-fs-filename') match_id = 1c50179e6094c3c4a1bd6efd93165e8268cf53ab9c5cd0747d390767e11097307f33bc45d8157cd07ad075b152d4065e9135efe900f44a326d2763256eba8d97_0
2025-06-21 02:42:26,831 - semgrep.rule_match - DEBUG - match_key = ('req function ... (..., req,...) {...} filePath fs = require(\'fs\')\n...\n fs = require(\'fs/promises\')\n...\n import fs from \'fs\'\n...\n import fs from \'fs/promises\'\n...\n import * as fs from \'fs\'\n...\n import * as fs from \'fs/promises\'\n...\n fs. ... .$METHOD("...", ...) fs. ... .access(filePath,...) fs. ... .accessSync(filePath, ...) fs. ... .appendFile(filePath,...) fs. ... .appendFileSync(filePath, ...) fs. ... .chmod(filePath,...) fs. ... .chmodSync(filePath, ...) fs. ... .chown(filePath,...) fs. ... .chownSync(filePath, ...) fs. ... .close(filePath,...) fs. ... .closeSync(filePath, ...) fs. ... .copyFile(filePath,...) fs. ... .copyFile($SMTH, filePath,...) fs. ... .copyFileSync(filePath, ...) fs. ... .copyFileSync($SMTH, filePath, ...) fs. ... .cp(filePath, ...) fs. ... .cp($SMTH, filePath, ...) fs. ... .cpSync(filePath, ...) fs. ... .cpSync($SMTH, filePath, ...) fs. ... .createReadStream(filePath,...) fs. ... .createWriteStream(filePath,...) fs. ... .exists(filePath, ...) fs. ... .existsSync(filePath, ...) fs. ... .fchmod(filePath, ...) fs. ... .fchmodSync(filePath, ...) fs. ... .fchown(filePath, ...) fs. ... .fchownSync(filePath, ...) fs. ... .fdatasync(filePath, ...) fs. ... .fdatasyncSync(filePath, ...) fs. ... .fstat(filePath, ...) fs. ... .fstatSync(filePath, ...) fs. ... .fsync(filePath, ...) fs. ... .fsyncSync(filePath, ...) fs. ... .ftruncate(filePath, ...) fs. ... .ftruncateSync(filePath, ...) fs. ... .futimes(filePath, ...) fs. ... .futimesSync(filePath, ...) fs. ... .lchmod(filePath, ...) fs. ... .lchmodSync(filePath, ...) fs. ... .lchown(filePath, ...) fs. ... .lchownSync(filePath, ...) fs. ... .link(filePath, ...) fs. ... .link($SMTH, filePath, ...) fs. ... .linkSync(filePath, ...) fs. ... .linkSync($SMTH, filePath, ...) fs. ... .lstat(filePath, ...) fs. ... .lstatSync(filePath, ...) fs. ... .lutimes(filePath, ...) fs. ... .lutimesSync(filePath, ...) fs. ... .mkdir(filePath, ...) fs. ... .mkdirSync(filePath, ...) fs. ... .mkdtemp(filePath, ...) fs. ... .mkdtempSync(filePath, ...) fs. ... .open(filePath, ...) fs. ... .openSync(filePath, ...) fs. ... .opendir(filePath, ...) fs. ... .opendirSync(filePath, ...) fs. ... .read(filePath, ...) fs. ... .read(filePath, ...) fs. ... .readFile(filePath, ...) fs. ... .readFileSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readdir(filePath, ...) fs. ... .readdirSync(filePath, ...) fs. ... .readlink(filePath, ...) fs. ... .readlinkSync(filePath, ...) fs. ... .readv(filePath, ...) fs. ... .readvSync(filePath, ...) fs. ... .realpath(filePath, ...) fs. ... .realpath.native(filePath, ...) fs. ... .realpathSync.native(filePath, ...) fs. ... .realpathync(filePath, ...) fs. ... .rename(filePath, ...) fs. ... .rename($SMTH, filePath, ...) fs. ... .renameSync(filePath, ...) fs. ... .renameSync($SMTH, filePath, ...) fs. ... .rm(filePath, ...) fs. ... .rmSync(filePath, ...) fs. ... .rmdir(filePath, ...) fs. ... .rmdirSync(filePath, ...) fs. ... .stat(filePath, ...) fs. ... .statSync(filePath, ...) fs. ... .symlink(filePath, ...) fs. ... .symlink($SMTH, filePath, ...) fs. ... .symlinkSync(filePath, ...) fs. ... .symlinkSync($SMTH, filePath, ...) fs. ... .truncate(filePath, ...) fs. ... .truncateSync(filePath, ...) fs. ... .unlink(filePath, ...) fs. ... .unlinkSync(filePath, ...) fs. ... .unwatchFile(filePath, ...) fs. ... .utimes(filePath, ...) fs. ... .utimesSync(filePath, ...) fs. ... .watch(filePath, ...) fs. ... .watchFile(filePath, ...) fs. ... .write(filePath, ...) fs. ... .writeFile(filePath, ...) fs. ... .writeFileSync(filePath, ...) fs. ... .writeSync(filePath, ...) fs. ... .writev(filePath, ...) fs. ... .writevSync(filePath, ...) filePath $METHOD("...", ...) access(filePath,...) accessSync(filePath, ...) appendFile(filePath,...) appendFileSync(filePath, ...) chmod(filePath,...) chmodSync(filePath, ...) chown(filePath,...) chownSync(filePath, ...) close(filePath,...) closeSync(filePath, ...) copyFile(filePath,...) copyFile($SMTH, filePath,...) copyFileSync(filePath, ...) copyFileSync($SMTH, filePath, ...) cp(filePath, ...) cp($SMTH, filePath, ...) cpSync(filePath, ...) cpSync($SMTH, filePath, ...) createReadStream(filePath,...) createWriteStream(filePath,...) exists(filePath, ...) existsSync(filePath, ...) fchmod(filePath, ...) fchmodSync(filePath, ...) fchown(filePath, ...) fchownSync(filePath, ...) fdatasync(filePath, ...) fdatasyncSync(filePath, ...) fstat(filePath, ...) fstatSync(filePath, ...) fsync(filePath, ...) fsyncSync(filePath, ...) ftruncate(filePath, ...) ftruncateSync(filePath, ...) futimes(filePath, ...) futimesSync(filePath, ...) lchmod(filePath, ...) lchmodSync(filePath, ...) lchown(filePath, ...) lchownSync(filePath, ...) link(filePath, ...) link($SMTH, filePath, ...) linkSync(filePath, ...) linkSync($SMTH, filePath, ...) lstat(filePath, ...) lstatSync(filePath, ...) lutimes(filePath, ...) lutimesSync(filePath, ...) mkdir(filePath, ...) mkdirSync(filePath, ...) mkdtemp(filePath, ...) mkdtempSync(filePath, ...) open(filePath, ...) openSync(filePath, ...) opendir(filePath, ...) opendirSync(filePath, ...) read(filePath, ...) read(filePath, ...) readFile(filePath, ...) readFileSync(filePath, ...) readSync(filePath, ...) readSync(filePath, ...) readdir(filePath, ...) readdirSync(filePath, ...) readlink(filePath, ...) readlinkSync(filePath, ...) readv(filePath, ...) readvSync(filePath, ...) realpath(filePath, ...) realpath.native(filePath, ...) realpathSync.native(filePath, ...) realpathync(filePath, ...) rename(filePath, ...) rename($SMTH, filePath, ...) renameSync(filePath, ...) renameSync($SMTH, filePath, ...) rm(filePath, ...) rmSync(filePath, ...) rmdir(filePath, ...) rmdirSync(filePath, ...) stat(filePath, ...) statSync(filePath, ...) symlink(filePath, ...) symlink($SMTH, filePath, ...) symlinkSync(filePath, ...) symlinkSync($SMTH, filePath, ...) truncate(filePath, ...) truncateSync(filePath, ...) unlink(filePath, ...) unlinkSync(filePath, ...) unwatchFile(filePath, ...) utimes(filePath, ...) utimesSync(filePath, ...) watch(filePath, ...) watchFile(filePath, ...) write(filePath, ...) writeFile(filePath, ...) writeFileSync(filePath, ...) writeSync(filePath, ...) writev(filePath, ...) writevSync(filePath, ...) import \'fs\'\n...\n import \'fs/promises\'\n...\n', PosixPath('server/routes.ts'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.detect-non-literal-fs-filename') match_id = 1c50179e6094c3c4a1bd6efd93165e8268cf53ab9c5cd0747d390767e11097307f33bc45d8157cd07ad075b152d4065e9135efe900f44a326d2763256eba8d97_0
2025-06-21 02:42:26,831 - semgrep.rule_match - DEBUG - match_key = ('req function ... (..., req,...) {...} filePath fs = require(\'fs\')\n...\n fs = require(\'fs/promises\')\n...\n import fs from \'fs\'\n...\n import fs from \'fs/promises\'\n...\n import * as fs from \'fs\'\n...\n import * as fs from \'fs/promises\'\n...\n fs. ... .$METHOD("...", ...) fs. ... .access(filePath,...) fs. ... .accessSync(filePath, ...) fs. ... .appendFile(filePath,...) fs. ... .appendFileSync(filePath, ...) fs. ... .chmod(filePath,...) fs. ... .chmodSync(filePath, ...) fs. ... .chown(filePath,...) fs. ... .chownSync(filePath, ...) fs. ... .close(filePath,...) fs. ... .closeSync(filePath, ...) fs. ... .copyFile(filePath,...) fs. ... .copyFile($SMTH, filePath,...) fs. ... .copyFileSync(filePath, ...) fs. ... .copyFileSync($SMTH, filePath, ...) fs. ... .cp(filePath, ...) fs. ... .cp($SMTH, filePath, ...) fs. ... .cpSync(filePath, ...) fs. ... .cpSync($SMTH, filePath, ...) fs. ... .createReadStream(filePath,...) fs. ... .createWriteStream(filePath,...) fs. ... .exists(filePath, ...) fs. ... .existsSync(filePath, ...) fs. ... .fchmod(filePath, ...) fs. ... .fchmodSync(filePath, ...) fs. ... .fchown(filePath, ...) fs. ... .fchownSync(filePath, ...) fs. ... .fdatasync(filePath, ...) fs. ... .fdatasyncSync(filePath, ...) fs. ... .fstat(filePath, ...) fs. ... .fstatSync(filePath, ...) fs. ... .fsync(filePath, ...) fs. ... .fsyncSync(filePath, ...) fs. ... .ftruncate(filePath, ...) fs. ... .ftruncateSync(filePath, ...) fs. ... .futimes(filePath, ...) fs. ... .futimesSync(filePath, ...) fs. ... .lchmod(filePath, ...) fs. ... .lchmodSync(filePath, ...) fs. ... .lchown(filePath, ...) fs. ... .lchownSync(filePath, ...) fs. ... .link(filePath, ...) fs. ... .link($SMTH, filePath, ...) fs. ... .linkSync(filePath, ...) fs. ... .linkSync($SMTH, filePath, ...) fs. ... .lstat(filePath, ...) fs. ... .lstatSync(filePath, ...) fs. ... .lutimes(filePath, ...) fs. ... .lutimesSync(filePath, ...) fs. ... .mkdir(filePath, ...) fs. ... .mkdirSync(filePath, ...) fs. ... .mkdtemp(filePath, ...) fs. ... .mkdtempSync(filePath, ...) fs. ... .open(filePath, ...) fs. ... .openSync(filePath, ...) fs. ... .opendir(filePath, ...) fs. ... .opendirSync(filePath, ...) fs. ... .read(filePath, ...) fs. ... .read(filePath, ...) fs. ... .readFile(filePath, ...) fs. ... .readFileSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readSync(filePath, ...) fs. ... .readdir(filePath, ...) fs. ... .readdirSync(filePath, ...) fs. ... .readlink(filePath, ...) fs. ... .readlinkSync(filePath, ...) fs. ... .readv(filePath, ...) fs. ... .readvSync(filePath, ...) fs. ... .realpath(filePath, ...) fs. ... .realpath.native(filePath, ...) fs. ... .realpathSync.native(filePath, ...) fs. ... .realpathync(filePath, ...) fs. ... .rename(filePath, ...) fs. ... .rename($SMTH, filePath, ...) fs. ... .renameSync(filePath, ...) fs. ... .renameSync($SMTH, filePath, ...) fs. ... .rm(filePath, ...) fs. ... .rmSync(filePath, ...) fs. ... .rmdir(filePath, ...) fs. ... .rmdirSync(filePath, ...) fs. ... .stat(filePath, ...) fs. ... .statSync(filePath, ...) fs. ... .symlink(filePath, ...) fs. ... .symlink($SMTH, filePath, ...) fs. ... .symlinkSync(filePath, ...) fs. ... .symlinkSync($SMTH, filePath, ...) fs. ... .truncate(filePath, ...) fs. ... .truncateSync(filePath, ...) fs. ... .unlink(filePath, ...) fs. ... .unlinkSync(filePath, ...) fs. ... .unwatchFile(filePath, ...) fs. ... .utimes(filePath, ...) fs. ... .utimesSync(filePath, ...) fs. ... .watch(filePath, ...) fs. ... .watchFile(filePath, ...) fs. ... .write(filePath, ...) fs. ... .writeFile(filePath, ...) fs. ... .writeFileSync(filePath, ...) fs. ... .writeSync(filePath, ...) fs. ... .writev(filePath, ...) fs. ... .writevSync(filePath, ...) filePath $METHOD("...", ...) access(filePath,...) accessSync(filePath, ...) appendFile(filePath,...) appendFileSync(filePath, ...) chmod(filePath,...) chmodSync(filePath, ...) chown(filePath,...) chownSync(filePath, ...) close(filePath,...) closeSync(filePath, ...) copyFile(filePath,...) copyFile($SMTH, filePath,...) copyFileSync(filePath, ...) copyFileSync($SMTH, filePath, ...) cp(filePath, ...) cp($SMTH, filePath, ...) cpSync(filePath, ...) cpSync($SMTH, filePath, ...) createReadStream(filePath,...) createWriteStream(filePath,...) exists(filePath, ...) existsSync(filePath, ...) fchmod(filePath, ...) fchmodSync(filePath, ...) fchown(filePath, ...) fchownSync(filePath, ...) fdatasync(filePath, ...) fdatasyncSync(filePath, ...) fstat(filePath, ...) fstatSync(filePath, ...) fsync(filePath, ...) fsyncSync(filePath, ...) ftruncate(filePath, ...) ftruncateSync(filePath, ...) futimes(filePath, ...) futimesSync(filePath, ...) lchmod(filePath, ...) lchmodSync(filePath, ...) lchown(filePath, ...) lchownSync(filePath, ...) link(filePath, ...) link($SMTH, filePath, ...) linkSync(filePath, ...) linkSync($SMTH, filePath, ...) lstat(filePath, ...) lstatSync(filePath, ...) lutimes(filePath, ...) lutimesSync(filePath, ...) mkdir(filePath, ...) mkdirSync(filePath, ...) mkdtemp(filePath, ...) mkdtempSync(filePath, ...) open(filePath, ...) openSync(filePath, ...) opendir(filePath, ...) opendirSync(filePath, ...) read(filePath, ...) read(filePath, ...) readFile(filePath, ...) readFileSync(filePath, ...) readSync(filePath, ...) readSync(filePath, ...) readdir(filePath, ...) readdirSync(filePath, ...) readlink(filePath, ...) readlinkSync(filePath, ...) readv(filePath, ...) readvSync(filePath, ...) realpath(filePath, ...) realpath.native(filePath, ...) realpathSync.native(filePath, ...) realpathync(filePath, ...) rename(filePath, ...) rename($SMTH, filePath, ...) renameSync(filePath, ...) renameSync($SMTH, filePath, ...) rm(filePath, ...) rmSync(filePath, ...) rmdir(filePath, ...) rmdirSync(filePath, ...) stat(filePath, ...) statSync(filePath, ...) symlink(filePath, ...) symlink($SMTH, filePath, ...) symlinkSync(filePath, ...) symlinkSync($SMTH, filePath, ...) truncate(filePath, ...) truncateSync(filePath, ...) unlink(filePath, ...) unlinkSync(filePath, ...) unwatchFile(filePath, ...) utimes(filePath, ...) utimesSync(filePath, ...) watch(filePath, ...) watchFile(filePath, ...) write(filePath, ...) writeFile(filePath, ...) writeFileSync(filePath, ...) writeSync(filePath, ...) writev(filePath, ...) writevSync(filePath, ...) import \'fs\'\n...\n import \'fs/promises\'\n...\n', PosixPath('server/routes.ts'), 'config..semgrep.vendored-rules.javascript.lang.security.audit.detect-non-literal-fs-filename') match_id = 1c50179e6094c3c4a1bd6efd93165e8268cf53ab9c5cd0747d390767e11097307f33bc45d8157cd07ad075b152d4065e9135efe900f44a326d2763256eba8d97_1
2025-06-21 02:42:26,837 - semgrep.rule_match - DEBUG - match_key = ('', PosixPath('standalone-app-iphone.html'), 'config..semgrep.vendored-rules.html.security.audit.insecure-document-method') match_id = 3d590c8619b8b04d1b1a7a582f9cdbd354eb6e7a0d3bf2c3df35d4fad7df0bf42c76db0bd9881d35cc208d2a9705f8968acf288d3458f5a86d21cf754b2e6749_0
2025-06-21 02:42:26,844 - semgrep.rule_match - DEBUG - match_key = ('\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center; font-size: 18px; opacity: 0.8;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p style="font-size: 14px; opacity: 0.8; margin: 8px 0;"><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 16px 0; font-size: 15px;">\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 12px; opacity: 0.7; margin-top: 10px; text-align: center; color: #5AC8FA;">\n                            Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 14px; color: #5AC8FA; margin-top: 12px; display: block;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n\n                    <button class="btn-outline" onclick="removeLens(${index})" style="margin-top: 12px;">🗑️ Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            if (confirm(\'Tem certeza que deseja remover esta lente?\')) {\n                lensData.splice(index, 1);\n                saveData();\n                renderLensList();\n            }\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-iphone.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n\n        // Prevenir zoom duplo-toque no iOS\n        let lastTouchEnd = 0;\n        document.addEventListener(\'touchend\', function (event) {\n            const now = (new Date()).getTime();\n            if (now - lastTouchEnd <= 300) {\n                event.preventDefault();\n            }\n            lastTouchEnd = now;\n        }, false);\n     $X $X. ... .$V = "..." $X. ... .innerHTML = ... $X. ... .outerHTML = ... javascript <script ...>\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center; font-size: 18px; opacity: 0.8;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p style="font-size: 14px; opacity: 0.8; margin: 8px 0;"><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 16px 0; font-size: 15px;">\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 12px; opacity: 0.7; margin-top: 10px; text-align: center; color: #5AC8FA;">\n                            Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 14px; color: #5AC8FA; margin-top: 12px; display: block;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n\n                    <button class="btn-outline" onclick="removeLens(${index})" style="margin-top: 12px;">🗑️ Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            if (confirm(\'Tem certeza que deseja remover esta lente?\')) {\n                lensData.splice(index, 1);\n                saveData();\n                renderLensList();\n            }\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-iphone.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n\n        // Prevenir zoom duplo-toque no iOS\n        let lastTouchEnd = 0;\n        document.addEventListener(\'touchend\', function (event) {\n            const now = (new Date()).getTime();\n            if (now - lastTouchEnd <= 300) {\n                event.preventDefault();\n            }\n            lastTouchEnd = now;\n        }, false);\n    </script>\n', PosixPath('standalone-app-iphone.html'), 'config..semgrep.vendored-rules.html.security.audit.insecure-document-method') match_id = 0ec2307e7acb188c881f18266b700be8aefca0983513d0edbd92d182b46e1b783e80b1f1455f0e551d99551c2c4baa08e2cc1be8534189e890b2877452ccc046_0
2025-06-21 02:42:26,852 - semgrep.rule_match - DEBUG - match_key = ('\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center; font-size: 18px; opacity: 0.8;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p style="font-size: 14px; opacity: 0.8; margin: 8px 0;"><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 16px 0; font-size: 15px;">\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 12px; opacity: 0.7; margin-top: 10px; text-align: center; color: #5AC8FA;">\n                            Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 14px; color: #5AC8FA; margin-top: 12px; display: block;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n\n                    <button class="btn-outline" onclick="removeLens(${index})" style="margin-top: 12px;">🗑️ Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            if (confirm(\'Tem certeza que deseja remover esta lente?\')) {\n                lensData.splice(index, 1);\n                saveData();\n                renderLensList();\n            }\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-iphone.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n\n        // Prevenir zoom duplo-toque no iOS\n        let lastTouchEnd = 0;\n        document.addEventListener(\'touchend\', function (event) {\n            const now = (new Date()).getTime();\n            if (now - lastTouchEnd <= 300) {\n                event.preventDefault();\n            }\n            lastTouchEnd = now;\n        }, false);\n     $X $X. ... .$V = "..." $X. ... .innerHTML = ... $X. ... .outerHTML = ... javascript <script ...>\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center; font-size: 18px; opacity: 0.8;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p style="font-size: 14px; opacity: 0.8; margin: 8px 0;"><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 16px 0; font-size: 15px;">\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 12px; opacity: 0.7; margin-top: 10px; text-align: center; color: #5AC8FA;">\n                            Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 14px; color: #5AC8FA; margin-top: 12px; display: block;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n\n                    <button class="btn-outline" onclick="removeLens(${index})" style="margin-top: 12px;">🗑️ Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            if (confirm(\'Tem certeza que deseja remover esta lente?\')) {\n                lensData.splice(index, 1);\n                saveData();\n                renderLensList();\n            }\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-iphone.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n\n        // Prevenir zoom duplo-toque no iOS\n        let lastTouchEnd = 0;\n        document.addEventListener(\'touchend\', function (event) {\n            const now = (new Date()).getTime();\n            if (now - lastTouchEnd <= 300) {\n                event.preventDefault();\n            }\n            lastTouchEnd = now;\n        }, false);\n    </script>\n', PosixPath('standalone-app-iphone.html'), 'config..semgrep.vendored-rules.html.security.audit.insecure-document-method') match_id = 0ec2307e7acb188c881f18266b700be8aefca0983513d0edbd92d182b46e1b783e80b1f1455f0e551d99551c2c4baa08e2cc1be8534189e890b2877452ccc046_0
2025-06-21 02:42:26,860 - semgrep.rule_match - DEBUG - match_key = ('\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center; font-size: 18px; opacity: 0.8;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p style="font-size: 14px; opacity: 0.8; margin: 8px 0;"><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 16px 0; font-size: 15px;">\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 12px; opacity: 0.7; margin-top: 10px; text-align: center; color: #5AC8FA;">\n                            Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 14px; color: #5AC8FA; margin-top: 12px; display: block;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n\n                    <button class="btn-outline" onclick="removeLens(${index})" style="margin-top: 12px;">🗑️ Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            if (confirm(\'Tem certeza que deseja remover esta lente?\')) {\n                lensData.splice(index, 1);\n                saveData();\n                renderLensList();\n            }\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-iphone.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n\n        // Prevenir zoom duplo-toque no iOS\n        let lastTouchEnd = 0;\n        document.addEventListener(\'touchend\', function (event) {\n            const now = (new Date()).getTime();\n            if (now - lastTouchEnd <= 300) {\n                event.preventDefault();\n            }\n            lastTouchEnd = now;\n        }, false);\n     $X $X. ... .$V = "..." $X. ... .innerHTML = ... $X. ... .outerHTML = ... javascript <script ...>\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center; font-size: 18px; opacity: 0.8;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3 style="font-size: 18px; font-weight: 600; margin-bottom: 8px;">${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p style="font-size: 14px; opacity: 0.8; margin: 8px 0;"><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 16px 0; font-size: 15px;">\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 10px 0; display: flex; justify-content: space-between; align-items: center; padding: 8px; background: rgba(255,255,255,0.05); border-radius: 8px;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #5AC8FA; font-weight: 600;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 12px; opacity: 0.7; margin-top: 10px; text-align: center; color: #5AC8FA;">\n                            Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label style="display: flex; align-items: center; gap: 8px; font-size: 16px;"><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 14px; color: #5AC8FA; margin-top: 12px; display: block;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 12px; margin: 12px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n\n                    <button class="btn-outline" onclick="removeLens(${index})" style="margin-top: 12px;">🗑️ Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            if (confirm(\'Tem certeza que deseja remover esta lente?\')) {\n                lensData.splice(index, 1);\n                saveData();\n                renderLensList();\n            }\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-iphone.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n\n        // Prevenir zoom duplo-toque no iOS\n        let lastTouchEnd = 0;\n        document.addEventListener(\'touchend\', function (event) {\n            const now = (new Date()).getTime();\n            if (now - lastTouchEnd <= 300) {\n                event.preventDefault();\n            }\n            lastTouchEnd = now;\n        }, false);\n    </script>\n', PosixPath('standalone-app-iphone.html'), 'config..semgrep.vendored-rules.html.security.audit.insecure-document-method') match_id = 0ec2307e7acb188c881f18266b700be8aefca0983513d0edbd92d182b46e1b783e80b1f1455f0e551d99551c2c4baa08e2cc1be8534189e890b2877452ccc046_0
2025-06-21 02:42:26,873 - semgrep.rule_match - DEBUG - match_key = ('', PosixPath('standalone-app.html'), 'config..semgrep.vendored-rules.html.security.audit.insecure-document-method') match_id = 8a10940367cf04b0129a2a3e582be151a88b069976282d4024df0c75264f4391b7a206a18608c9d8790983d51bf03bd9acc74b3b890f81c476a10f2702eb3438_0
2025-06-21 02:42:26,889 - semgrep.rule_match - DEBUG - match_key = ('\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3>${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 15px 0; font-size: 14px;">\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 11px; opacity: 0.7; margin-top: 8px; text-align: center;">\n                            💰 Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Ranges pré-definidos para facilitar edição\n        const esfRanges = [\n            "Esf. -15,00 a -12,25", "Esf. -12,00 a -10,25", "Esf. -10,00 a -8,25", "Esf. -8,00 a -6,25",\n            "Esf. -6,00 a -4,25", "Esf. -4,00 a -2,25", "Esf. -2,00 a 0,00", "Esf. 0,00 a +2,00",\n            "Esf. +2,25 a +4,00", "Esf. +4,25 a +6,00", "Esf. +6,25 a +8,00", "CURVA 600", "CURVA 800",\n            "ESF. 0,00/2,00 - AD: 1,00 a 3,00", "ESF. 0,00/3,00 - AD: 1,00 a 3,00"\n        ];\n\n        const cilRanges = [\n            "Cil. -0,25 a -2,00", "Cil. -2,25 a -4,00", "Cil. -4,25 a -6,00", "Cil. -0,25 a -3,00",\n            "Cil. -0,25 a -4,00", "Cil. -2,00", "Cil. -3,00", "Cil. -4,00"\n        ];\n\n        const espessuras = ["1.50", "1.53", "1.56", "1.59", "1.61", "1.67", "1.74", "14mm", "15mm", "18mm", "70mm"];\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <label><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 12px; color: #63b3ed; margin-top: 10px;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 5px 0;">\n                        <button class="btn-outline" style="font-size: 10px; padding: 5px;" onclick="showMedidasHelper(${index})">Ajuda Medidas</button>\n                        <select class="editor-input" style="padding: 5px;" onchange="updateLens(${index}, \'espessura\', this.value)">\n                            ${espessuras.map(esp => `<option value="${esp}" ${lens.espessura === esp ? \'selected\' : \'\'}>${esp}</option>`).join(\'\')}\n                        </select>\n                    </div>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.parcela6x}" onchange="updateLens(${index}, \'parcela6x\', this.value)" placeholder="6x">\n                        <input class="editor-input" value="${lens.parcela10x}" onchange="updateLens(${index}, \'parcela10x\', this.value)" placeholder="10x">\n                    </div>\n\n                    <button class="btn-outline btn" onclick="removeLens(${index})" style="margin-top: 10px;">Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Mostrar helper para medidas\n        function showMedidasHelper(index) {\n            const helpText = `\nExemplos de medidas comuns:\n\nLENTES DE GRAU:\n• Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n• Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n• Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00\n\nLENTES COLORIDAS:\n• CURVA 600\n• CURVA 800\n• CURVA 600 / 800\n\nLENTES MULTIFOCAIS:\n• ESF. 0,00/2,00 - AD: 1,00 a 3,00\n• ESF. 0,00/3,00 - AD: 1,00 a 3,00\n\nClique em uma opção para usar:`;\n\n            if (confirm(helpText + "\\n\\nVer exemplos específicos?")) {\n                const medidaEscolhida = prompt(`Escolha uma medida:\n1. Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n2. Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n3. CURVA 600\n4. ESF. 0,00/3,00 - AD: 1,00 a 3,00\n5. Personalizada\n\nDigite o número ou a medida customizada:`);\n\n                let novaMedida = \'\';\n                switch(medidaEscolhida) {\n                    case \'1\': novaMedida = \'Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\'; break;\n                    case \'2\': novaMedida = \'Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\'; break;\n                    case \'3\': novaMedida = \'CURVA 600\'; break;\n                    case \'4\': novaMedida = \'ESF. 0,00/3,00 - AD: 1,00 a 3,00\'; break;\n                    default: novaMedida = medidaEscolhida || lensData[index].medidas;\n                }\n\n                updateLens(index, \'medidas\', novaMedida);\n                renderLensList();\n            }\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            lensData.splice(index, 1);\n            saveData();\n            renderLensList();\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-offline.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n     $X $X. ... .$V = "..." $X. ... .innerHTML = ... $X. ... .outerHTML = ... javascript <script ...>\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3>${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 15px 0; font-size: 14px;">\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 11px; opacity: 0.7; margin-top: 8px; text-align: center;">\n                            💰 Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Ranges pré-definidos para facilitar edição\n        const esfRanges = [\n            "Esf. -15,00 a -12,25", "Esf. -12,00 a -10,25", "Esf. -10,00 a -8,25", "Esf. -8,00 a -6,25",\n            "Esf. -6,00 a -4,25", "Esf. -4,00 a -2,25", "Esf. -2,00 a 0,00", "Esf. 0,00 a +2,00",\n            "Esf. +2,25 a +4,00", "Esf. +4,25 a +6,00", "Esf. +6,25 a +8,00", "CURVA 600", "CURVA 800",\n            "ESF. 0,00/2,00 - AD: 1,00 a 3,00", "ESF. 0,00/3,00 - AD: 1,00 a 3,00"\n        ];\n\n        const cilRanges = [\n            "Cil. -0,25 a -2,00", "Cil. -2,25 a -4,00", "Cil. -4,25 a -6,00", "Cil. -0,25 a -3,00",\n            "Cil. -0,25 a -4,00", "Cil. -2,00", "Cil. -3,00", "Cil. -4,00"\n        ];\n\n        const espessuras = ["1.50", "1.53", "1.56", "1.59", "1.61", "1.67", "1.74", "14mm", "15mm", "18mm", "70mm"];\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <label><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 12px; color: #63b3ed; margin-top: 10px;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 5px 0;">\n                        <button class="btn-outline" style="font-size: 10px; padding: 5px;" onclick="showMedidasHelper(${index})">Ajuda Medidas</button>\n                        <select class="editor-input" style="padding: 5px;" onchange="updateLens(${index}, \'espessura\', this.value)">\n                            ${espessuras.map(esp => `<option value="${esp}" ${lens.espessura === esp ? \'selected\' : \'\'}>${esp}</option>`).join(\'\')}\n                        </select>\n                    </div>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.parcela6x}" onchange="updateLens(${index}, \'parcela6x\', this.value)" placeholder="6x">\n                        <input class="editor-input" value="${lens.parcela10x}" onchange="updateLens(${index}, \'parcela10x\', this.value)" placeholder="10x">\n                    </div>\n\n                    <button class="btn-outline btn" onclick="removeLens(${index})" style="margin-top: 10px;">Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Mostrar helper para medidas\n        function showMedidasHelper(index) {\n            const helpText = `\nExemplos de medidas comuns:\n\nLENTES DE GRAU:\n• Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n• Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n• Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00\n\nLENTES COLORIDAS:\n• CURVA 600\n• CURVA 800\n• CURVA 600 / 800\n\nLENTES MULTIFOCAIS:\n• ESF. 0,00/2,00 - AD: 1,00 a 3,00\n• ESF. 0,00/3,00 - AD: 1,00 a 3,00\n\nClique em uma opção para usar:`;\n\n            if (confirm(helpText + "\\n\\nVer exemplos específicos?")) {\n                const medidaEscolhida = prompt(`Escolha uma medida:\n1. Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n2. Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n3. CURVA 600\n4. ESF. 0,00/3,00 - AD: 1,00 a 3,00\n5. Personalizada\n\nDigite o número ou a medida customizada:`);\n\n                let novaMedida = \'\';\n                switch(medidaEscolhida) {\n                    case \'1\': novaMedida = \'Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\'; break;\n                    case \'2\': novaMedida = \'Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\'; break;\n                    case \'3\': novaMedida = \'CURVA 600\'; break;\n                    case \'4\': novaMedida = \'ESF. 0,00/3,00 - AD: 1,00 a 3,00\'; break;\n                    default: novaMedida = medidaEscolhida || lensData[index].medidas;\n                }\n\n                updateLens(index, \'medidas\', novaMedida);\n                renderLensList();\n            }\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            lensData.splice(index, 1);\n            saveData();\n            renderLensList();\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-offline.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n    </script>\n', PosixPath('standalone-app.html'), 'config..semgrep.vendored-rules.html.security.audit.insecure-document-method') match_id = 756a7c6afd050158f21d8846e2cb15be310aa9e1c24aeda8c3f39491ae340bb155720025d594da48851c5372466f323a52b3007134cd0a222b2f93b5ebd28c8e_0
2025-06-21 02:42:26,900 - semgrep.rule_match - DEBUG - match_key = ('\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3>${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 15px 0; font-size: 14px;">\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 11px; opacity: 0.7; margin-top: 8px; text-align: center;">\n                            💰 Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Ranges pré-definidos para facilitar edição\n        const esfRanges = [\n            "Esf. -15,00 a -12,25", "Esf. -12,00 a -10,25", "Esf. -10,00 a -8,25", "Esf. -8,00 a -6,25",\n            "Esf. -6,00 a -4,25", "Esf. -4,00 a -2,25", "Esf. -2,00 a 0,00", "Esf. 0,00 a +2,00",\n            "Esf. +2,25 a +4,00", "Esf. +4,25 a +6,00", "Esf. +6,25 a +8,00", "CURVA 600", "CURVA 800",\n            "ESF. 0,00/2,00 - AD: 1,00 a 3,00", "ESF. 0,00/3,00 - AD: 1,00 a 3,00"\n        ];\n\n        const cilRanges = [\n            "Cil. -0,25 a -2,00", "Cil. -2,25 a -4,00", "Cil. -4,25 a -6,00", "Cil. -0,25 a -3,00",\n            "Cil. -0,25 a -4,00", "Cil. -2,00", "Cil. -3,00", "Cil. -4,00"\n        ];\n\n        const espessuras = ["1.50", "1.53", "1.56", "1.59", "1.61", "1.67", "1.74", "14mm", "15mm", "18mm", "70mm"];\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <label><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 12px; color: #63b3ed; margin-top: 10px;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 5px 0;">\n                        <button class="btn-outline" style="font-size: 10px; padding: 5px;" onclick="showMedidasHelper(${index})">Ajuda Medidas</button>\n                        <select class="editor-input" style="padding: 5px;" onchange="updateLens(${index}, \'espessura\', this.value)">\n                            ${espessuras.map(esp => `<option value="${esp}" ${lens.espessura === esp ? \'selected\' : \'\'}>${esp}</option>`).join(\'\')}\n                        </select>\n                    </div>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.parcela6x}" onchange="updateLens(${index}, \'parcela6x\', this.value)" placeholder="6x">\n                        <input class="editor-input" value="${lens.parcela10x}" onchange="updateLens(${index}, \'parcela10x\', this.value)" placeholder="10x">\n                    </div>\n\n                    <button class="btn-outline btn" onclick="removeLens(${index})" style="margin-top: 10px;">Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Mostrar helper para medidas\n        function showMedidasHelper(index) {\n            const helpText = `\nExemplos de medidas comuns:\n\nLENTES DE GRAU:\n• Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n• Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n• Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00\n\nLENTES COLORIDAS:\n• CURVA 600\n• CURVA 800\n• CURVA 600 / 800\n\nLENTES MULTIFOCAIS:\n• ESF. 0,00/2,00 - AD: 1,00 a 3,00\n• ESF. 0,00/3,00 - AD: 1,00 a 3,00\n\nClique em uma opção para usar:`;\n\n            if (confirm(helpText + "\\n\\nVer exemplos específicos?")) {\n                const medidaEscolhida = prompt(`Escolha uma medida:\n1. Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n2. Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n3. CURVA 600\n4. ESF. 0,00/3,00 - AD: 1,00 a 3,00\n5. Personalizada\n\nDigite o número ou a medida customizada:`);\n\n                let novaMedida = \'\';\n                switch(medidaEscolhida) {\n                    case \'1\': novaMedida = \'Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\'; break;\n                    case \'2\': novaMedida = \'Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\'; break;\n                    case \'3\': novaMedida = \'CURVA 600\'; break;\n                    case \'4\': novaMedida = \'ESF. 0,00/3,00 - AD: 1,00 a 3,00\'; break;\n                    default: novaMedida = medidaEscolhida || lensData[index].medidas;\n                }\n\n                updateLens(index, \'medidas\', novaMedida);\n                renderLensList();\n            }\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            lensData.splice(index, 1);\n            saveData();\n            renderLensList();\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-offline.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n     $X $X. ... .$V = "..." $X. ... .innerHTML = ... $X. ... .outerHTML = ... javascript <script ...>\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3>${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 15px 0; font-size: 14px;">\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 11px; opacity: 0.7; margin-top: 8px; text-align: center;">\n                            💰 Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Ranges pré-definidos para facilitar edição\n        const esfRanges = [\n            "Esf. -15,00 a -12,25", "Esf. -12,00 a -10,25", "Esf. -10,00 a -8,25", "Esf. -8,00 a -6,25",\n            "Esf. -6,00 a -4,25", "Esf. -4,00 a -2,25", "Esf. -2,00 a 0,00", "Esf. 0,00 a +2,00",\n            "Esf. +2,25 a +4,00", "Esf. +4,25 a +6,00", "Esf. +6,25 a +8,00", "CURVA 600", "CURVA 800",\n            "ESF. 0,00/2,00 - AD: 1,00 a 3,00", "ESF. 0,00/3,00 - AD: 1,00 a 3,00"\n        ];\n\n        const cilRanges = [\n            "Cil. -0,25 a -2,00", "Cil. -2,25 a -4,00", "Cil. -4,25 a -6,00", "Cil. -0,25 a -3,00",\n            "Cil. -0,25 a -4,00", "Cil. -2,00", "Cil. -3,00", "Cil. -4,00"\n        ];\n\n        const espessuras = ["1.50", "1.53", "1.56", "1.59", "1.61", "1.67", "1.74", "14mm", "15mm", "18mm", "70mm"];\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <label><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 12px; color: #63b3ed; margin-top: 10px;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 5px 0;">\n                        <button class="btn-outline" style="font-size: 10px; padding: 5px;" onclick="showMedidasHelper(${index})">Ajuda Medidas</button>\n                        <select class="editor-input" style="padding: 5px;" onchange="updateLens(${index}, \'espessura\', this.value)">\n                            ${espessuras.map(esp => `<option value="${esp}" ${lens.espessura === esp ? \'selected\' : \'\'}>${esp}</option>`).join(\'\')}\n                        </select>\n                    </div>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.parcela6x}" onchange="updateLens(${index}, \'parcela6x\', this.value)" placeholder="6x">\n                        <input class="editor-input" value="${lens.parcela10x}" onchange="updateLens(${index}, \'parcela10x\', this.value)" placeholder="10x">\n                    </div>\n\n                    <button class="btn-outline btn" onclick="removeLens(${index})" style="margin-top: 10px;">Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Mostrar helper para medidas\n        function showMedidasHelper(index) {\n            const helpText = `\nExemplos de medidas comuns:\n\nLENTES DE GRAU:\n• Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n• Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n• Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00\n\nLENTES COLORIDAS:\n• CURVA 600\n• CURVA 800\n• CURVA 600 / 800\n\nLENTES MULTIFOCAIS:\n• ESF. 0,00/2,00 - AD: 1,00 a 3,00\n• ESF. 0,00/3,00 - AD: 1,00 a 3,00\n\nClique em uma opção para usar:`;\n\n            if (confirm(helpText + "\\n\\nVer exemplos específicos?")) {\n                const medidaEscolhida = prompt(`Escolha uma medida:\n1. Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n2. Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n3. CURVA 600\n4. ESF. 0,00/3,00 - AD: 1,00 a 3,00\n5. Personalizada\n\nDigite o número ou a medida customizada:`);\n\n                let novaMedida = \'\';\n                switch(medidaEscolhida) {\n                    case \'1\': novaMedida = \'Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\'; break;\n                    case \'2\': novaMedida = \'Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\'; break;\n                    case \'3\': novaMedida = \'CURVA 600\'; break;\n                    case \'4\': novaMedida = \'ESF. 0,00/3,00 - AD: 1,00 a 3,00\'; break;\n                    default: novaMedida = medidaEscolhida || lensData[index].medidas;\n                }\n\n                updateLens(index, \'medidas\', novaMedida);\n                renderLensList();\n            }\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            lensData.splice(index, 1);\n            saveData();\n            renderLensList();\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-offline.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n    </script>\n', PosixPath('standalone-app.html'), 'config..semgrep.vendored-rules.html.security.audit.insecure-document-method') match_id = 756a7c6afd050158f21d8846e2cb15be310aa9e1c24aeda8c3f39491ae340bb155720025d594da48851c5372466f323a52b3007134cd0a222b2f93b5ebd28c8e_0
2025-06-21 02:42:26,911 - semgrep.rule_match - DEBUG - match_key = ('\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3>${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 15px 0; font-size: 14px;">\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 11px; opacity: 0.7; margin-top: 8px; text-align: center;">\n                            💰 Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Ranges pré-definidos para facilitar edição\n        const esfRanges = [\n            "Esf. -15,00 a -12,25", "Esf. -12,00 a -10,25", "Esf. -10,00 a -8,25", "Esf. -8,00 a -6,25",\n            "Esf. -6,00 a -4,25", "Esf. -4,00 a -2,25", "Esf. -2,00 a 0,00", "Esf. 0,00 a +2,00",\n            "Esf. +2,25 a +4,00", "Esf. +4,25 a +6,00", "Esf. +6,25 a +8,00", "CURVA 600", "CURVA 800",\n            "ESF. 0,00/2,00 - AD: 1,00 a 3,00", "ESF. 0,00/3,00 - AD: 1,00 a 3,00"\n        ];\n\n        const cilRanges = [\n            "Cil. -0,25 a -2,00", "Cil. -2,25 a -4,00", "Cil. -4,25 a -6,00", "Cil. -0,25 a -3,00",\n            "Cil. -0,25 a -4,00", "Cil. -2,00", "Cil. -3,00", "Cil. -4,00"\n        ];\n\n        const espessuras = ["1.50", "1.53", "1.56", "1.59", "1.61", "1.67", "1.74", "14mm", "15mm", "18mm", "70mm"];\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <label><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 12px; color: #63b3ed; margin-top: 10px;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 5px 0;">\n                        <button class="btn-outline" style="font-size: 10px; padding: 5px;" onclick="showMedidasHelper(${index})">Ajuda Medidas</button>\n                        <select class="editor-input" style="padding: 5px;" onchange="updateLens(${index}, \'espessura\', this.value)">\n                            ${espessuras.map(esp => `<option value="${esp}" ${lens.espessura === esp ? \'selected\' : \'\'}>${esp}</option>`).join(\'\')}\n                        </select>\n                    </div>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.parcela6x}" onchange="updateLens(${index}, \'parcela6x\', this.value)" placeholder="6x">\n                        <input class="editor-input" value="${lens.parcela10x}" onchange="updateLens(${index}, \'parcela10x\', this.value)" placeholder="10x">\n                    </div>\n\n                    <button class="btn-outline btn" onclick="removeLens(${index})" style="margin-top: 10px;">Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Mostrar helper para medidas\n        function showMedidasHelper(index) {\n            const helpText = `\nExemplos de medidas comuns:\n\nLENTES DE GRAU:\n• Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n• Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n• Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00\n\nLENTES COLORIDAS:\n• CURVA 600\n• CURVA 800\n• CURVA 600 / 800\n\nLENTES MULTIFOCAIS:\n• ESF. 0,00/2,00 - AD: 1,00 a 3,00\n• ESF. 0,00/3,00 - AD: 1,00 a 3,00\n\nClique em uma opção para usar:`;\n\n            if (confirm(helpText + "\\n\\nVer exemplos específicos?")) {\n                const medidaEscolhida = prompt(`Escolha uma medida:\n1. Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n2. Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n3. CURVA 600\n4. ESF. 0,00/3,00 - AD: 1,00 a 3,00\n5. Personalizada\n\nDigite o número ou a medida customizada:`);\n\n                let novaMedida = \'\';\n                switch(medidaEscolhida) {\n                    case \'1\': novaMedida = \'Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\'; break;\n                    case \'2\': novaMedida = \'Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\'; break;\n                    case \'3\': novaMedida = \'CURVA 600\'; break;\n                    case \'4\': novaMedida = \'ESF. 0,00/3,00 - AD: 1,00 a 3,00\'; break;\n                    default: novaMedida = medidaEscolhida || lensData[index].medidas;\n                }\n\n                updateLens(index, \'medidas\', novaMedida);\n                renderLensList();\n            }\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            lensData.splice(index, 1);\n            saveData();\n            renderLensList();\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-offline.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n     $X $X. ... .$V = "..." $X. ... .innerHTML = ... $X. ... .outerHTML = ... javascript <script ...>\n        // Todas as 43 lentes da planilha PRECIFICAÇÃO_REAL\n        let lensData = [\n            {id: 1, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 2, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -6,00 a +6,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 3, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -4,25 a -6,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 4, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 5, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 6, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 7, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 8, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.56", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 9, nome: "LT CR-39", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.56", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 10, nome: "LT POLI", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 499,00", parcela3x: "R$ 199,60", parcela6x: "R$ 112,27", parcela10x: "R$ 82,34"},\n            {id: 11, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -5,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 12, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +3,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 13, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 799,00", parcela3x: "R$ 319,60", parcela6x: "R$ 179,78", parcela10x: "R$ 131,83"},\n            {id: 14, nome: "LT POLI HAYTEK", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -4,00 a +2,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 15, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00", espessura: "1.59", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 16, nome: "LT POLI", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -6,00 a +4,00 / Cil. -2,25 a -4,00", espessura: "1.59", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 17, nome: "LT TRANSITIONS", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -2,00 a +2,00 / Cil. -0,25 a -2,00", espessura: "1.50", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 18, nome: "LT ALTO INDICE ~ SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 19, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -10,00 a +7,00 / Esf. -6,00 a +6,00 / Cil. -4,00 Esf. -6,25 a -10,00 / Cil. -2,00", espessura: "1.61", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 20, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"},\n            {id: 21, nome: "LT ALTO INDICE - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: true, medidas: "Esf. -3,00 a -15,00 / Esf. -3,00 a -10,00 / Cil. -4,00 Esf. -10,25 a -12,00 / Cil. -2,00", espessura: "1.67", precoVista: "R$ 1399,00", parcela3x: "R$ 559,60", parcela6x: "R$ 314,78", parcela10x: "R$ 230,83"},\n            {id: 22, nome: "LT ALTO INDICE", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "Esf. -10,00 a +6,00 / Esf. -8,00 a +6,00 / Cil. -4,00 Esf. -8,25 a -10,00 / Cil. -3,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 23, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00", espessura: "1.67", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 24, nome: "LT ALTO INDICE RESIDUAL VERDE", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "Esf. -1,00 a -15,00 / Cil. -0,25 a -3,00", espessura: "1.74", precoVista: "R$ 1899,00", parcela3x: "R$ 759,60", parcela6x: "R$ 427,28", parcela10x: "R$ 313,34"},\n            {id: 25, nome: "LT ULTRAX TRIVEX - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 999,00", parcela3x: "R$ 399,60", parcela6x: "R$ 224,78", parcela10x: "R$ 164,83"},\n            {id: 26, nome: "LT ULTRAX TRIVEX TRANSITIONS - HOYA", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "Esf. -4,00 a +3,00 / Cil. -0,25 a -2,00", espessura: "1.53", precoVista: "R$ 1299,00", parcela3x: "R$ 519,60", parcela6x: "R$ 292,28", parcela10x: "R$ 214,33"},\n            {id: 27, nome: "LT CR-39 - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 28, nome: "LT CR-39 ~ DEGRADE - MARRON / CINZA / BLACK / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 29, nome: "LT CR-39 - CINZA / MARRON /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 30, nome: "LT POLARIZADA - CINZA / MARRON / G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 31, nome: "LT ESPELHADA - AZUL / VERMELHA / PRATA / GOLD", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 399,00", parcela3x: "R$ 159,60", parcela6x: "R$ 89,77", parcela10x: "R$ 65,84"},\n            {id: 32, nome: "LT POLI - MARRON / CINZA /G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600 / 800", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 33, nome: "LT POLI - DEGRADE / CINZA / MARRON", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 199,00", parcela3x: "R$ 79,60", parcela6x: "R$ 44,77", parcela10x: "R$ 32,84"},\n            {id: 34, nome: "LT CRISTAL - G-15", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "CURVA 600", espessura: "70mm", precoVista: "R$ 299,00", parcela3x: "R$ 119,60", parcela6x: "R$ 67,27", parcela10x: "R$ 49,34"},\n            {id: 35, nome: "BF ULTEX / KRIPTOK ACABADO", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "15mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 36, nome: "MF CR-39 - SHINEDUX", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 37, nome: "MF CR-39 ~ FREE LINE / PRO LIFE", incolor: true, antireflexo: false, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "18mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 38, nome: "MF CR-39", incolor: false, antireflexo: true, fotosensivel: false, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 39, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 40, nome: "MF CR-39", incolor: false, antireflexo: false, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 599,00", parcela3x: "R$ 239,60", parcela6x: "R$ 134,78", parcela10x: "R$ 98,84"},\n            {id: 41, nome: "MF CR-39 - SHINEDUX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 699,00", parcela3x: "R$ 279,60", parcela6x: "R$ 157,28", parcela10x: "R$ 115,33"},\n            {id: 42, nome: "MF CR39 - AUDAX", incolor: false, antireflexo: true, fotosensivel: true, blueCut: false, medidas: "ESF. 0,00/3,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 899,00", parcela3x: "R$ 359,60", parcela6x: "R$ 202,28", parcela10x: "R$ 148,33"},\n            {id: 43, nome: "MF POLICARBONATO - SHINEDUX", incolor: false, antireflexo: false, fotosensivel: false, blueCut: true, medidas: "ESF. 0,00/2,00 - AD: 1,00 a 3,00", espessura: "14mm", precoVista: "R$ 1199,00", parcela3x: "R$ 479,60", parcela6x: "R$ 269,78", parcela10x: "R$ 197,83"}\n        ];\n\n        const questions = [\n            {text: "É incolor?", key: "incolor", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem antirreflexo?", key: "antireflexo", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "É fotossensível?", key: "fotosensivel", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]},\n            {text: "Tem blue cut?", key: "blueCut", options: [{label: "SIM", value: true}, {label: "NÃO", value: false}]}\n        ];\n\n        let currentQuestion = 0;\n        let answers = {};\n\n        // Carregar dados salvos\n        function loadData() {\n            const saved = localStorage.getItem(\'lensData\');\n            if (saved) lensData = JSON.parse(saved);\n        }\n\n        // Salvar dados\n        function saveData() {\n            localStorage.setItem(\'lensData\', JSON.stringify(lensData));\n        }\n\n        // Mostrar tela\n        function showScreen(screenId) {\n            document.querySelectorAll(\'[id$="-screen"]\').forEach(s => s.classList.add(\'hidden\'));\n            document.getElementById(screenId).classList.remove(\'hidden\');\n        }\n\n        // Iniciar perguntas\n        function startQuestions() {\n            currentQuestion = 0;\n            answers = {};\n            showScreen(\'question-screen\');\n            showQuestion();\n        }\n\n        // Mostrar pergunta atual\n        function showQuestion() {\n            const q = questions[currentQuestion];\n            document.getElementById(\'question-text\').textContent = q.text;\n            \n            const progress = ((currentQuestion + 1) / questions.length) * 100;\n            document.getElementById(\'progress-fill\').style.width = progress + \'%\';\n\n            const optionsDiv = document.getElementById(\'question-options\');\n            optionsDiv.innerHTML = \'\';\n            \n            q.options.forEach(option => {\n                const btn = document.createElement(\'button\');\n                btn.className = \'btn\';\n                btn.textContent = option.label;\n                btn.onclick = () => answerQuestion(option.value);\n                optionsDiv.appendChild(btn);\n            });\n        }\n\n        // Responder pergunta\n        function answerQuestion(answer) {\n            const q = questions[currentQuestion];\n            answers[q.key] = answer;\n            \n            currentQuestion++;\n            if (currentQuestion < questions.length) {\n                showQuestion();\n            } else {\n                showResults();\n            }\n        }\n\n        // Voltar pergunta\n        function goBack() {\n            if (currentQuestion > 0) {\n                currentQuestion--;\n                showQuestion();\n            } else {\n                showScreen(\'welcome-screen\');\n            }\n        }\n\n        // Função para calcular valor total das parcelas\n        function calculateTotal(parcelaValue, numParcelas) {\n            const value = parseFloat(parcelaValue.replace(\'R$\', \'\').replace(\',\', \'.\').trim());\n            const total = value * numParcelas;\n            return `R$ ${total.toLocaleString(\'pt-BR\', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;\n        }\n\n        // Mostrar resultados\n        function showResults() {\n            const filtered = lensData.filter(lens => {\n                return Object.keys(answers).every(key => lens[key] === answers[key]);\n            });\n\n            const resultsDiv = document.getElementById(\'results-list\');\n            resultsDiv.innerHTML = \'\';\n\n            if (filtered.length === 0) {\n                resultsDiv.innerHTML = \'<p style="text-align: center;">Nenhuma lente encontrada com essas características.</p>\';\n            } else {\n                filtered.forEach(lens => {\n                    const card = document.createElement(\'div\');\n                    card.className = \'lens-card\';\n                    \n                    const features = [];\n                    if (lens.incolor) features.push(\'Incolor\');\n                    if (lens.antireflexo) features.push(\'Antirreflexo\');\n                    if (lens.fotosensivel) features.push(\'Fotossensível\');\n                    if (lens.blueCut) features.push(\'Blue Cut\');\n\n                    const total3x = calculateTotal(lens.parcela3x, 3);\n                    const total6x = calculateTotal(lens.parcela6x, 6);\n                    const total10x = calculateTotal(lens.parcela10x, 10);\n\n                    card.innerHTML = `\n                        <h3>${lens.nome}</h3>\n                        <div class="features">\n                            ${features.map(f => `<span class="feature">${f}</span>`).join(\'\')}\n                        </div>\n                        <p><small>${lens.medidas} - ${lens.espessura}</small></p>\n                        <div class="price">${lens.precoVista}</div>\n                        <div style="margin: 15px 0; font-size: 14px;">\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>3x de ${lens.parcela3x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total3x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>6x de ${lens.parcela6x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total6x}</span>\n                            </div>\n                            <div style="margin: 8px 0; display: flex; justify-content: space-between; align-items: center;">\n                                <span>10x de ${lens.parcela10x}</span>\n                                <span style="color: #63b3ed; font-weight: bold;">Total: ${total10x}</span>\n                            </div>\n                        </div>\n                        <p style="font-size: 11px; opacity: 0.7; margin-top: 8px; text-align: center;">\n                            💰 Valor à vista: <strong>${lens.precoVista}</strong>\n                        </p>\n                    `;\n                    resultsDiv.appendChild(card);\n                });\n            }\n\n            showScreen(\'results-screen\');\n        }\n\n        // Mostrar editor\n        function showEditor() {\n            renderLensList();\n            showScreen(\'editor-screen\');\n        }\n\n        // Ranges pré-definidos para facilitar edição\n        const esfRanges = [\n            "Esf. -15,00 a -12,25", "Esf. -12,00 a -10,25", "Esf. -10,00 a -8,25", "Esf. -8,00 a -6,25",\n            "Esf. -6,00 a -4,25", "Esf. -4,00 a -2,25", "Esf. -2,00 a 0,00", "Esf. 0,00 a +2,00",\n            "Esf. +2,25 a +4,00", "Esf. +4,25 a +6,00", "Esf. +6,25 a +8,00", "CURVA 600", "CURVA 800",\n            "ESF. 0,00/2,00 - AD: 1,00 a 3,00", "ESF. 0,00/3,00 - AD: 1,00 a 3,00"\n        ];\n\n        const cilRanges = [\n            "Cil. -0,25 a -2,00", "Cil. -2,25 a -4,00", "Cil. -4,25 a -6,00", "Cil. -0,25 a -3,00",\n            "Cil. -0,25 a -4,00", "Cil. -2,00", "Cil. -3,00", "Cil. -4,00"\n        ];\n\n        const espessuras = ["1.50", "1.53", "1.56", "1.59", "1.61", "1.67", "1.74", "14mm", "15mm", "18mm", "70mm"];\n\n        // Renderizar lista de lentes no editor\n        function renderLensList() {\n            const listDiv = document.getElementById(\'lens-list\');\n            listDiv.innerHTML = \'\';\n\n            lensData.forEach((lens, index) => {\n                const card = document.createElement(\'div\');\n                card.className = \'lens-card\';\n                card.innerHTML = `\n                    <input class="editor-input" value="${lens.nome}" onchange="updateLens(${index}, \'nome\', this.value)" placeholder="Nome">\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <label><input type="checkbox" ${lens.incolor ? \'checked\' : \'\'} onchange="updateLens(${index}, \'incolor\', this.checked)"> Incolor</label>\n                        <label><input type="checkbox" ${lens.antireflexo ? \'checked\' : \'\'} onchange="updateLens(${index}, \'antireflexo\', this.checked)"> Antirreflexo</label>\n                        <label><input type="checkbox" ${lens.fotosensivel ? \'checked\' : \'\'} onchange="updateLens(${index}, \'fotosensivel\', this.checked)"> Fotossensível</label>\n                        <label><input type="checkbox" ${lens.blueCut ? \'checked\' : \'\'} onchange="updateLens(${index}, \'blueCut\', this.checked)"> Blue Cut</label>\n                    </div>\n\n                    <label style="font-size: 12px; color: #63b3ed; margin-top: 10px;">Medidas:</label>\n                    <textarea class="editor-input" rows="2" onchange="updateLens(${index}, \'medidas\', this.value)" placeholder="Ex: Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00">${lens.medidas}</textarea>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 5px 0;">\n                        <button class="btn-outline" style="font-size: 10px; padding: 5px;" onclick="showMedidasHelper(${index})">Ajuda Medidas</button>\n                        <select class="editor-input" style="padding: 5px;" onchange="updateLens(${index}, \'espessura\', this.value)">\n                            ${espessuras.map(esp => `<option value="${esp}" ${lens.espessura === esp ? \'selected\' : \'\'}>${esp}</option>`).join(\'\')}\n                        </select>\n                    </div>\n\n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.precoVista}" onchange="updateLens(${index}, \'precoVista\', this.value)" placeholder="Preço à Vista">\n                        <input class="editor-input" value="${lens.parcela3x}" onchange="updateLens(${index}, \'parcela3x\', this.value)" placeholder="3x">\n                    </div>\n                    \n                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 10px; margin: 10px 0;">\n                        <input class="editor-input" value="${lens.parcela6x}" onchange="updateLens(${index}, \'parcela6x\', this.value)" placeholder="6x">\n                        <input class="editor-input" value="${lens.parcela10x}" onchange="updateLens(${index}, \'parcela10x\', this.value)" placeholder="10x">\n                    </div>\n\n                    <button class="btn-outline btn" onclick="removeLens(${index})" style="margin-top: 10px;">Remover</button>\n                `;\n                listDiv.appendChild(card);\n            });\n        }\n\n        // Mostrar helper para medidas\n        function showMedidasHelper(index) {\n            const helpText = `\nExemplos de medidas comuns:\n\nLENTES DE GRAU:\n• Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n• Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n• Esf. -10,00 a +6,00 / Cil. -0,25 a -4,00\n\nLENTES COLORIDAS:\n• CURVA 600\n• CURVA 800\n• CURVA 600 / 800\n\nLENTES MULTIFOCAIS:\n• ESF. 0,00/2,00 - AD: 1,00 a 3,00\n• ESF. 0,00/3,00 - AD: 1,00 a 3,00\n\nClique em uma opção para usar:`;\n\n            if (confirm(helpText + "\\n\\nVer exemplos específicos?")) {\n                const medidaEscolhida = prompt(`Escolha uma medida:\n1. Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\n2. Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\n3. CURVA 600\n4. ESF. 0,00/3,00 - AD: 1,00 a 3,00\n5. Personalizada\n\nDigite o número ou a medida customizada:`);\n\n                let novaMedida = \'\';\n                switch(medidaEscolhida) {\n                    case \'1\': novaMedida = \'Esf. -6,00 a +4,00 / Cil. -0,25 a -2,00\'; break;\n                    case \'2\': novaMedida = \'Esf. -4,00 a +4,00 / Cil. -2,25 a -4,00\'; break;\n                    case \'3\': novaMedida = \'CURVA 600\'; break;\n                    case \'4\': novaMedida = \'ESF. 0,00/3,00 - AD: 1,00 a 3,00\'; break;\n                    default: novaMedida = medidaEscolhida || lensData[index].medidas;\n                }\n\n                updateLens(index, \'medidas\', novaMedida);\n                renderLensList();\n            }\n        }\n\n        // Atualizar lente\n        function updateLens(index, field, value) {\n            lensData[index][field] = value;\n            saveData();\n        }\n\n        // Remover lente\n        function removeLens(index) {\n            lensData.splice(index, 1);\n            saveData();\n            renderLensList();\n        }\n\n        // Adicionar nova lente\n        function addNewLens() {\n            const newId = Math.max(...lensData.map(l => l.id)) + 1;\n            lensData.push({\n                id: newId,\n                nome: "Nova Lente",\n                incolor: false,\n                antireflexo: false,\n                fotosensivel: false,\n                blueCut: false,\n                medidas: "Esf. 0,00 / Cil. 0,00",\n                espessura: "1.50",\n                precoVista: "R$ 0,00",\n                parcela3x: "R$ 0,00",\n                parcela6x: "R$ 0,00",\n                parcela10x: "R$ 0,00"\n            });\n            saveData();\n            renderLensList();\n        }\n\n        // Voltar para início\n        function startOver() {\n            showScreen(\'welcome-screen\');\n        }\n\n        function backToWelcome() {\n            showScreen(\'welcome-screen\');\n        }\n\n        // Download da versão standalone\n        function downloadStandalone() {\n            const content = document.documentElement.outerHTML;\n            const blob = new Blob([content], {type: \'text/html\'});\n            const url = URL.createObjectURL(blob);\n            const a = document.createElement(\'a\');\n            a.href = url;\n            a.download = \'configurador-oculos-offline.html\';\n            a.click();\n            URL.revokeObjectURL(url);\n        }\n\n        // Inicializar\n        loadData();\n    </script>\n', PosixPath('standalone-app.html'), 'config..semgrep.vendored-rules.html.security.audit.insecure-document-method') match_id = 756a7c6afd050158f21d8846e2cb15be310aa9e1c24aeda8c3f39491ae340bb155720025d594da48851c5372466f323a52b3007134cd0a222b2f93b5ebd28c8e_0
2025-06-21 02:42:26,914 - semgrep.core_runner - DEBUG - semgrep ran in 0:00:06.588382 on 109 files
2025-06-21 02:42:26,916 - semgrep.core_runner - DEBUG - findings summary: 5 warning, 0 error, 1 info
2025-06-21 02:42:26,920 - semgrep.app.auth - DEBUG - Getting API token from settings file
2025-06-21 02:42:26,920 - semgrep.app.auth - DEBUG - No API token found in settings file
2025-06-21 02:42:27,087 - semgrep.output - VERBOSE - 
========================================
Files skipped:
========================================

  Always skipped by Opengrep:

   • <none>

  Skipped by .gitignore:
  (Disable by passing --no-git-ignore)

   • <all files not listed by `git ls-files` were skipped>

  Skipped by .semgrepignore:
  - https://semgrep.dev/docs/ignoring-files-folders-code/#understand-semgrep-defaults

   • <none>

  Skipped by --include patterns:

   • <none>

  Skipped by --exclude patterns:

   • <none>

  Files skipped due to insufficient read permissions:

   • <none>

  Skipped by limiting to files smaller than 1000000 bytes:
  (Adjust with the --max-target-bytes flag)

   • <none>

  Partially analyzed due to parsing or internal Opengrep errors

   • tailwind.config.ts (1 lines skipped)

2025-06-21 02:42:27,088 - semgrep.output - INFO - Some files were skipped or only partially analyzed.
  Scan was limited to files tracked by git.
  Partially scanned: 1 files only partially analyzed due to parsing or internal Opengrep errors

Ran 437 rules on 109 files: 6 findings.
2025-06-21 02:42:27,089 - semgrep.app.version - DEBUG - Version cache does not exist
2025-06-21 02:42:27,106 - semgrep.metrics - VERBOSE - Not sending pseudonymous metrics since metrics are configured to OFF and registry usage is False
